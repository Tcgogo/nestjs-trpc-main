{"version":3,"file":"node-http-ZvZKxPic-xWxFTMZn.js","names":["__toESM","memo","import_objectSpread2","import_defineProperty","import_objectSpread2$1","import_objectSpread2","import_objectSpread2$2","import_defineProperty","import_objectSpread2$1","import_objectSpread2","TRPCBuilder","Unpromise","this","import_objectSpread2"],"sources":["../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/utils-DdbbrDku.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/getErrorShape-Uhlrl4Bk.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/tracked-gU3ttYjg.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/initTRPC-IT_6ZYJd.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/parseTRPCMessage-ByIHyFRz.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/observable-UMO3vUa_.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/resolveResponse-CzlbRpCI.mjs","../../../node_modules/.pnpm/@trpc+server@11.4.3_typescript@5.8.3/node_modules/@trpc/server/dist/node-http-ZvZKxPic.mjs"],"sourcesContent":["//#region src/unstable-core-do-not-import/rpc/codes.ts\n/**\n* JSON-RPC 2.0 Error codes\n*\n* `-32000` to `-32099` are reserved for implementation-defined server-errors.\n* For tRPC we're copying the last digits of HTTP 4XX errors.\n*/\nconst TRPC_ERROR_CODES_BY_KEY = {\n\tPARSE_ERROR: -32700,\n\tBAD_REQUEST: -32600,\n\tINTERNAL_SERVER_ERROR: -32603,\n\tNOT_IMPLEMENTED: -32603,\n\tBAD_GATEWAY: -32603,\n\tSERVICE_UNAVAILABLE: -32603,\n\tGATEWAY_TIMEOUT: -32603,\n\tUNAUTHORIZED: -32001,\n\tPAYMENT_REQUIRED: -32002,\n\tFORBIDDEN: -32003,\n\tNOT_FOUND: -32004,\n\tMETHOD_NOT_SUPPORTED: -32005,\n\tTIMEOUT: -32008,\n\tCONFLICT: -32009,\n\tPRECONDITION_FAILED: -32012,\n\tPAYLOAD_TOO_LARGE: -32013,\n\tUNSUPPORTED_MEDIA_TYPE: -32015,\n\tUNPROCESSABLE_CONTENT: -32022,\n\tTOO_MANY_REQUESTS: -32029,\n\tCLIENT_CLOSED_REQUEST: -32099\n};\nconst TRPC_ERROR_CODES_BY_NUMBER = {\n\t[-32700]: \"PARSE_ERROR\",\n\t[-32600]: \"BAD_REQUEST\",\n\t[-32603]: \"INTERNAL_SERVER_ERROR\",\n\t[-32001]: \"UNAUTHORIZED\",\n\t[-32002]: \"PAYMENT_REQUIRED\",\n\t[-32003]: \"FORBIDDEN\",\n\t[-32004]: \"NOT_FOUND\",\n\t[-32005]: \"METHOD_NOT_SUPPORTED\",\n\t[-32008]: \"TIMEOUT\",\n\t[-32009]: \"CONFLICT\",\n\t[-32012]: \"PRECONDITION_FAILED\",\n\t[-32013]: \"PAYLOAD_TOO_LARGE\",\n\t[-32015]: \"UNSUPPORTED_MEDIA_TYPE\",\n\t[-32022]: \"UNPROCESSABLE_CONTENT\",\n\t[-32029]: \"TOO_MANY_REQUESTS\",\n\t[-32099]: \"CLIENT_CLOSED_REQUEST\"\n};\n/**\n* tRPC error codes that are considered retryable\n* With out of the box SSE, the client will reconnect when these errors are encountered\n*/\nconst retryableRpcCodes = [\n\tTRPC_ERROR_CODES_BY_KEY.BAD_GATEWAY,\n\tTRPC_ERROR_CODES_BY_KEY.SERVICE_UNAVAILABLE,\n\tTRPC_ERROR_CODES_BY_KEY.GATEWAY_TIMEOUT,\n\tTRPC_ERROR_CODES_BY_KEY.INTERNAL_SERVER_ERROR\n];\n\n//#endregion\n//#region src/unstable-core-do-not-import/utils.ts\n/**\n* Ensures there are no duplicate keys when building a procedure.\n* @internal\n*/\nfunction mergeWithoutOverrides(obj1, ...objs) {\n\tconst newObj = Object.assign(Object.create(null), obj1);\n\tfor (const overrides of objs) for (const key in overrides) {\n\t\tif (key in newObj && newObj[key] !== overrides[key]) throw new Error(`Duplicate key ${key}`);\n\t\tnewObj[key] = overrides[key];\n\t}\n\treturn newObj;\n}\n/**\n* Check that value is object\n* @internal\n*/\nfunction isObject(value) {\n\treturn !!value && !Array.isArray(value) && typeof value === \"object\";\n}\nfunction isFunction(fn) {\n\treturn typeof fn === \"function\";\n}\n/**\n* Create an object without inheriting anything from `Object.prototype`\n* @internal\n*/\nfunction omitPrototype(obj) {\n\treturn Object.assign(Object.create(null), obj);\n}\nconst asyncIteratorsSupported = typeof Symbol === \"function\" && !!Symbol.asyncIterator;\nfunction isAsyncIterable(value) {\n\treturn asyncIteratorsSupported && isObject(value) && Symbol.asyncIterator in value;\n}\n/**\n* Run an IIFE\n*/\nconst run = (fn) => fn();\nfunction noop() {}\nfunction identity(it) {\n\treturn it;\n}\n/**\n* Generic runtime assertion function. Throws, if the condition is not `true`.\n*\n* Can be used as a slightly less dangerous variant of type assertions. Code\n* mistakes would be revealed at runtime then (hopefully during testing).\n*/\nfunction assert(condition, msg = \"no additional info\") {\n\tif (!condition) throw new Error(`AssertionError: ${msg}`);\n}\nfunction sleep(ms = 0) {\n\treturn new Promise((res) => setTimeout(res, ms));\n}\n/**\n* Ponyfill for\n* [`AbortSignal.any`](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/any_static).\n*/\nfunction abortSignalsAnyPonyfill(signals) {\n\tif (typeof AbortSignal.any === \"function\") return AbortSignal.any(signals);\n\tconst ac = new AbortController();\n\tfor (const signal of signals) {\n\t\tif (signal.aborted) {\n\t\t\ttrigger();\n\t\t\tbreak;\n\t\t}\n\t\tsignal.addEventListener(\"abort\", trigger, { once: true });\n\t}\n\treturn ac.signal;\n\tfunction trigger() {\n\t\tac.abort();\n\t\tfor (const signal of signals) signal.removeEventListener(\"abort\", trigger);\n\t}\n}\n\n//#endregion\nexport { TRPC_ERROR_CODES_BY_KEY, TRPC_ERROR_CODES_BY_NUMBER, abortSignalsAnyPonyfill, assert, identity, isAsyncIterable, isFunction, isObject, mergeWithoutOverrides, noop, omitPrototype, retryableRpcCodes, run, sleep };\n//# sourceMappingURL=utils-DdbbrDku.mjs.map","import { TRPC_ERROR_CODES_BY_KEY, TRPC_ERROR_CODES_BY_NUMBER, isObject } from \"./utils-DdbbrDku.mjs\";\n\n//#region rolldown:runtime\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __commonJS = (cb, mod) => function() {\n\treturn mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n\tif (from && typeof from === \"object\" || typeof from === \"function\") for (var keys = __getOwnPropNames(from), i = 0, n = keys.length, key; i < n; i++) {\n\t\tkey = keys[i];\n\t\tif (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n\t\t\tget: ((k) => from[k]).bind(null, key),\n\t\t\tenumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n\t\t});\n\t}\n\treturn to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n\tvalue: mod,\n\tenumerable: true\n}) : target, mod));\n\n//#endregion\n//#region src/unstable-core-do-not-import/createProxy.ts\nconst noop = () => {};\nconst freezeIfAvailable = (obj) => {\n\tif (Object.freeze) Object.freeze(obj);\n};\nfunction createInnerProxy(callback, path, memo) {\n\tvar _memo$cacheKey;\n\tconst cacheKey = path.join(\".\");\n\t(_memo$cacheKey = memo[cacheKey]) !== null && _memo$cacheKey !== void 0 || (memo[cacheKey] = new Proxy(noop, {\n\t\tget(_obj, key) {\n\t\t\tif (typeof key !== \"string\" || key === \"then\") return void 0;\n\t\t\treturn createInnerProxy(callback, [...path, key], memo);\n\t\t},\n\t\tapply(_1, _2, args) {\n\t\t\tconst lastOfPath = path[path.length - 1];\n\t\t\tlet opts = {\n\t\t\t\targs,\n\t\t\t\tpath\n\t\t\t};\n\t\t\tif (lastOfPath === \"call\") opts = {\n\t\t\t\targs: args.length >= 2 ? [args[1]] : [],\n\t\t\t\tpath: path.slice(0, -1)\n\t\t\t};\n\t\t\telse if (lastOfPath === \"apply\") opts = {\n\t\t\t\targs: args.length >= 2 ? args[1] : [],\n\t\t\t\tpath: path.slice(0, -1)\n\t\t\t};\n\t\t\tfreezeIfAvailable(opts.args);\n\t\t\tfreezeIfAvailable(opts.path);\n\t\t\treturn callback(opts);\n\t\t}\n\t}));\n\treturn memo[cacheKey];\n}\n/**\n* Creates a proxy that calls the callback with the path and arguments\n*\n* @internal\n*/\nconst createRecursiveProxy = (callback) => createInnerProxy(callback, [], Object.create(null));\n/**\n* Used in place of `new Proxy` where each handler will map 1 level deep to another value.\n*\n* @internal\n*/\nconst createFlatProxy = (callback) => {\n\treturn new Proxy(noop, { get(_obj, name) {\n\t\tif (name === \"then\") return void 0;\n\t\treturn callback(name);\n\t} });\n};\n\n//#endregion\n//#region src/unstable-core-do-not-import/http/getHTTPStatusCode.ts\nconst JSONRPC2_TO_HTTP_CODE = {\n\tPARSE_ERROR: 400,\n\tBAD_REQUEST: 400,\n\tUNAUTHORIZED: 401,\n\tPAYMENT_REQUIRED: 402,\n\tFORBIDDEN: 403,\n\tNOT_FOUND: 404,\n\tMETHOD_NOT_SUPPORTED: 405,\n\tTIMEOUT: 408,\n\tCONFLICT: 409,\n\tPRECONDITION_FAILED: 412,\n\tPAYLOAD_TOO_LARGE: 413,\n\tUNSUPPORTED_MEDIA_TYPE: 415,\n\tUNPROCESSABLE_CONTENT: 422,\n\tTOO_MANY_REQUESTS: 429,\n\tCLIENT_CLOSED_REQUEST: 499,\n\tINTERNAL_SERVER_ERROR: 500,\n\tNOT_IMPLEMENTED: 501,\n\tBAD_GATEWAY: 502,\n\tSERVICE_UNAVAILABLE: 503,\n\tGATEWAY_TIMEOUT: 504\n};\nconst HTTP_CODE_TO_JSONRPC2 = {\n\t400: \"BAD_REQUEST\",\n\t401: \"UNAUTHORIZED\",\n\t402: \"PAYMENT_REQUIRED\",\n\t403: \"FORBIDDEN\",\n\t404: \"NOT_FOUND\",\n\t405: \"METHOD_NOT_SUPPORTED\",\n\t408: \"TIMEOUT\",\n\t409: \"CONFLICT\",\n\t412: \"PRECONDITION_FAILED\",\n\t413: \"PAYLOAD_TOO_LARGE\",\n\t415: \"UNSUPPORTED_MEDIA_TYPE\",\n\t422: \"UNPROCESSABLE_CONTENT\",\n\t429: \"TOO_MANY_REQUESTS\",\n\t499: \"CLIENT_CLOSED_REQUEST\",\n\t500: \"INTERNAL_SERVER_ERROR\",\n\t501: \"NOT_IMPLEMENTED\",\n\t502: \"BAD_GATEWAY\",\n\t503: \"SERVICE_UNAVAILABLE\",\n\t504: \"GATEWAY_TIMEOUT\"\n};\nfunction getStatusCodeFromKey(code) {\n\tvar _JSONRPC2_TO_HTTP_COD;\n\treturn (_JSONRPC2_TO_HTTP_COD = JSONRPC2_TO_HTTP_CODE[code]) !== null && _JSONRPC2_TO_HTTP_COD !== void 0 ? _JSONRPC2_TO_HTTP_COD : 500;\n}\nfunction getStatusKeyFromCode(code) {\n\tvar _HTTP_CODE_TO_JSONRPC;\n\treturn (_HTTP_CODE_TO_JSONRPC = HTTP_CODE_TO_JSONRPC2[code]) !== null && _HTTP_CODE_TO_JSONRPC !== void 0 ? _HTTP_CODE_TO_JSONRPC : \"INTERNAL_SERVER_ERROR\";\n}\nfunction getHTTPStatusCode(json) {\n\tconst arr = Array.isArray(json) ? json : [json];\n\tconst httpStatuses = new Set(arr.map((res) => {\n\t\tif (\"error\" in res && isObject(res.error.data)) {\n\t\t\tvar _res$error$data;\n\t\t\tif (typeof ((_res$error$data = res.error.data) === null || _res$error$data === void 0 ? void 0 : _res$error$data[\"httpStatus\"]) === \"number\") return res.error.data[\"httpStatus\"];\n\t\t\tconst code = TRPC_ERROR_CODES_BY_NUMBER[res.error.code];\n\t\t\treturn getStatusCodeFromKey(code);\n\t\t}\n\t\treturn 200;\n\t}));\n\tif (httpStatuses.size !== 1) return 207;\n\tconst httpStatus = httpStatuses.values().next().value;\n\treturn httpStatus;\n}\nfunction getHTTPStatusCodeFromError(error) {\n\treturn getStatusCodeFromKey(error.code);\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js\nvar require_typeof = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js\"(exports, module) {\n\tfunction _typeof$2(o) {\n\t\t\"@babel/helpers - typeof\";\n\t\treturn module.exports = _typeof$2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o$1) {\n\t\t\treturn typeof o$1;\n\t\t} : function(o$1) {\n\t\t\treturn o$1 && \"function\" == typeof Symbol && o$1.constructor === Symbol && o$1 !== Symbol.prototype ? \"symbol\" : typeof o$1;\n\t\t}, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof$2(o);\n\t}\n\tmodule.exports = _typeof$2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js\nvar require_toPrimitive = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js\"(exports, module) {\n\tvar _typeof$1 = require_typeof()[\"default\"];\n\tfunction toPrimitive$1(t, r) {\n\t\tif (\"object\" != _typeof$1(t) || !t) return t;\n\t\tvar e = t[Symbol.toPrimitive];\n\t\tif (void 0 !== e) {\n\t\t\tvar i = e.call(t, r || \"default\");\n\t\t\tif (\"object\" != _typeof$1(i)) return i;\n\t\t\tthrow new TypeError(\"@@toPrimitive must return a primitive value.\");\n\t\t}\n\t\treturn (\"string\" === r ? String : Number)(t);\n\t}\n\tmodule.exports = toPrimitive$1, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js\nvar require_toPropertyKey = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js\"(exports, module) {\n\tvar _typeof = require_typeof()[\"default\"];\n\tvar toPrimitive = require_toPrimitive();\n\tfunction toPropertyKey$1(t) {\n\t\tvar i = toPrimitive(t, \"string\");\n\t\treturn \"symbol\" == _typeof(i) ? i : i + \"\";\n\t}\n\tmodule.exports = toPropertyKey$1, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js\nvar require_defineProperty = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js\"(exports, module) {\n\tvar toPropertyKey = require_toPropertyKey();\n\tfunction _defineProperty(e, r, t) {\n\t\treturn (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n\t\t\tvalue: t,\n\t\t\tenumerable: !0,\n\t\t\tconfigurable: !0,\n\t\t\twritable: !0\n\t\t}) : e[r] = t, e;\n\t}\n\tmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js\nvar require_objectSpread2 = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js\"(exports, module) {\n\tvar defineProperty = require_defineProperty();\n\tfunction ownKeys(e, r) {\n\t\tvar t = Object.keys(e);\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tvar o = Object.getOwnPropertySymbols(e);\n\t\t\tr && (o = o.filter(function(r$1) {\n\t\t\t\treturn Object.getOwnPropertyDescriptor(e, r$1).enumerable;\n\t\t\t})), t.push.apply(t, o);\n\t\t}\n\t\treturn t;\n\t}\n\tfunction _objectSpread2(e) {\n\t\tfor (var r = 1; r < arguments.length; r++) {\n\t\t\tvar t = null != arguments[r] ? arguments[r] : {};\n\t\t\tr % 2 ? ownKeys(Object(t), !0).forEach(function(r$1) {\n\t\t\t\tdefineProperty(e, r$1, t[r$1]);\n\t\t\t}) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r$1) {\n\t\t\t\tObject.defineProperty(e, r$1, Object.getOwnPropertyDescriptor(t, r$1));\n\t\t\t});\n\t\t}\n\t\treturn e;\n\t}\n\tmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region src/unstable-core-do-not-import/error/getErrorShape.ts\nvar import_objectSpread2 = __toESM(require_objectSpread2(), 1);\n/**\n* @internal\n*/\nfunction getErrorShape(opts) {\n\tconst { path, error, config } = opts;\n\tconst { code } = opts.error;\n\tconst shape = {\n\t\tmessage: error.message,\n\t\tcode: TRPC_ERROR_CODES_BY_KEY[code],\n\t\tdata: {\n\t\t\tcode,\n\t\t\thttpStatus: getHTTPStatusCodeFromError(error)\n\t\t}\n\t};\n\tif (config.isDev && typeof opts.error.stack === \"string\") shape.data.stack = opts.error.stack;\n\tif (typeof path === \"string\") shape.data.path = path;\n\treturn config.errorFormatter((0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, opts), {}, { shape }));\n}\n\n//#endregion\nexport { HTTP_CODE_TO_JSONRPC2, JSONRPC2_TO_HTTP_CODE, __commonJS, __toESM, createFlatProxy, createRecursiveProxy, getErrorShape, getHTTPStatusCode, getHTTPStatusCodeFromError, getStatusCodeFromKey, getStatusKeyFromCode, require_defineProperty, require_objectSpread2 };\n//# sourceMappingURL=getErrorShape-Uhlrl4Bk.mjs.map","import { __toESM, createRecursiveProxy, require_defineProperty, require_objectSpread2 } from \"./getErrorShape-Uhlrl4Bk.mjs\";\nimport { isFunction, isObject, mergeWithoutOverrides, omitPrototype } from \"./utils-DdbbrDku.mjs\";\n\n//#region src/unstable-core-do-not-import/error/formatter.ts\nconst defaultFormatter = ({ shape }) => {\n\treturn shape;\n};\n\n//#endregion\n//#region src/unstable-core-do-not-import/error/TRPCError.ts\nvar import_defineProperty = __toESM(require_defineProperty(), 1);\nvar UnknownCauseError = class extends Error {};\nfunction getCauseFromUnknown(cause) {\n\tif (cause instanceof Error) return cause;\n\tconst type = typeof cause;\n\tif (type === \"undefined\" || type === \"function\" || cause === null) return void 0;\n\tif (type !== \"object\") return new Error(String(cause));\n\tif (isObject(cause)) return Object.assign(new UnknownCauseError(), cause);\n\treturn void 0;\n}\nfunction getTRPCErrorFromUnknown(cause) {\n\tif (cause instanceof TRPCError) return cause;\n\tif (cause instanceof Error && cause.name === \"TRPCError\") return cause;\n\tconst trpcError = new TRPCError({\n\t\tcode: \"INTERNAL_SERVER_ERROR\",\n\t\tcause\n\t});\n\tif (cause instanceof Error && cause.stack) trpcError.stack = cause.stack;\n\treturn trpcError;\n}\nvar TRPCError = class extends Error {\n\tconstructor(opts) {\n\t\tvar _ref, _opts$message, _this$cause;\n\t\tconst cause = getCauseFromUnknown(opts.cause);\n\t\tconst message = (_ref = (_opts$message = opts.message) !== null && _opts$message !== void 0 ? _opts$message : cause === null || cause === void 0 ? void 0 : cause.message) !== null && _ref !== void 0 ? _ref : opts.code;\n\t\tsuper(message, { cause });\n\t\t(0, import_defineProperty.default)(this, \"cause\", void 0);\n\t\t(0, import_defineProperty.default)(this, \"code\", void 0);\n\t\tthis.code = opts.code;\n\t\tthis.name = \"TRPCError\";\n\t\t(_this$cause = this.cause) !== null && _this$cause !== void 0 || (this.cause = cause);\n\t}\n};\n\n//#endregion\n//#region src/unstable-core-do-not-import/transformer.ts\nvar import_objectSpread2$1 = __toESM(require_objectSpread2(), 1);\n/**\n* @internal\n*/\nfunction getDataTransformer(transformer) {\n\tif (\"input\" in transformer) return transformer;\n\treturn {\n\t\tinput: transformer,\n\t\toutput: transformer\n\t};\n}\n/**\n* @internal\n*/\nconst defaultTransformer = {\n\tinput: {\n\t\tserialize: (obj) => obj,\n\t\tdeserialize: (obj) => obj\n\t},\n\toutput: {\n\t\tserialize: (obj) => obj,\n\t\tdeserialize: (obj) => obj\n\t}\n};\nfunction transformTRPCResponseItem(config, item) {\n\tif (\"error\" in item) return (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, item), {}, { error: config.transformer.output.serialize(item.error) });\n\tif (\"data\" in item.result) return (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, item), {}, { result: (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, item.result), {}, { data: config.transformer.output.serialize(item.result.data) }) });\n\treturn item;\n}\n/**\n* Takes a unserialized `TRPCResponse` and serializes it with the router's transformers\n**/\nfunction transformTRPCResponse(config, itemOrItems) {\n\treturn Array.isArray(itemOrItems) ? itemOrItems.map((item) => transformTRPCResponseItem(config, item)) : transformTRPCResponseItem(config, itemOrItems);\n}\n/** @internal */\nfunction transformResultInner(response, transformer) {\n\tif (\"error\" in response) {\n\t\tconst error = transformer.deserialize(response.error);\n\t\treturn {\n\t\t\tok: false,\n\t\t\terror: (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, response), {}, { error })\n\t\t};\n\t}\n\tconst result = (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, response.result), (!response.result.type || response.result.type === \"data\") && {\n\t\ttype: \"data\",\n\t\tdata: transformer.deserialize(response.result.data)\n\t});\n\treturn {\n\t\tok: true,\n\t\tresult\n\t};\n}\nvar TransformResultError = class extends Error {\n\tconstructor() {\n\t\tsuper(\"Unable to transform response from server\");\n\t}\n};\n/**\n* Transforms and validates that the result is a valid TRPCResponse\n* @internal\n*/\nfunction transformResult(response, transformer) {\n\tlet result;\n\ttry {\n\t\tresult = transformResultInner(response, transformer);\n\t} catch (_unused) {\n\t\tthrow new TransformResultError();\n\t}\n\tif (!result.ok && (!isObject(result.error.error) || typeof result.error.error[\"code\"] !== \"number\")) throw new TransformResultError();\n\tif (result.ok && !isObject(result.result)) throw new TransformResultError();\n\treturn result;\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/router.ts\nvar import_objectSpread2 = __toESM(require_objectSpread2(), 1);\nconst lazySymbol = Symbol(\"lazy\");\nfunction once(fn) {\n\tconst uncalled = Symbol();\n\tlet result = uncalled;\n\treturn () => {\n\t\tif (result === uncalled) result = fn();\n\t\treturn result;\n\t};\n}\n/**\n* Lazy load a router\n* @see https://trpc.io/docs/server/merging-routers#lazy-load\n*/\nfunction lazy(importRouter) {\n\tasync function resolve() {\n\t\tconst mod = await importRouter();\n\t\tif (isRouter(mod)) return mod;\n\t\tconst routers = Object.values(mod);\n\t\tif (routers.length !== 1 || !isRouter(routers[0])) throw new Error(\"Invalid router module - either define exactly 1 export or return the router directly.\\nExample: `lazy(() => import('./slow.js').then((m) => m.slowRouter))`\");\n\t\treturn routers[0];\n\t}\n\tresolve[lazySymbol] = true;\n\treturn resolve;\n}\nfunction isLazy(input) {\n\treturn typeof input === \"function\" && lazySymbol in input;\n}\nfunction isRouter(value) {\n\treturn isObject(value) && isObject(value[\"_def\"]) && \"router\" in value[\"_def\"];\n}\nconst emptyRouter = {\n\t_ctx: null,\n\t_errorShape: null,\n\t_meta: null,\n\tqueries: {},\n\tmutations: {},\n\tsubscriptions: {},\n\terrorFormatter: defaultFormatter,\n\ttransformer: defaultTransformer\n};\n/**\n* Reserved words that can't be used as router or procedure names\n*/\nconst reservedWords = [\n\t\"then\",\n\t\"call\",\n\t\"apply\"\n];\n/**\n* @internal\n*/\nfunction createRouterFactory(config) {\n\tfunction createRouterInner(input) {\n\t\tconst reservedWordsUsed = new Set(Object.keys(input).filter((v) => reservedWords.includes(v)));\n\t\tif (reservedWordsUsed.size > 0) throw new Error(\"Reserved words used in `router({})` call: \" + Array.from(reservedWordsUsed).join(\", \"));\n\t\tconst procedures = omitPrototype({});\n\t\tconst lazy$1 = omitPrototype({});\n\t\tfunction createLazyLoader(opts) {\n\t\t\treturn {\n\t\t\t\tref: opts.ref,\n\t\t\t\tload: once(async () => {\n\t\t\t\t\tconst router$1 = await opts.ref();\n\t\t\t\t\tconst lazyPath = [...opts.path, opts.key];\n\t\t\t\t\tconst lazyKey = lazyPath.join(\".\");\n\t\t\t\t\topts.aggregate[opts.key] = step(router$1._def.record, lazyPath);\n\t\t\t\t\tdelete lazy$1[lazyKey];\n\t\t\t\t\tfor (const [nestedKey, nestedItem] of Object.entries(router$1._def.lazy)) {\n\t\t\t\t\t\tconst nestedRouterKey = [...lazyPath, nestedKey].join(\".\");\n\t\t\t\t\t\tlazy$1[nestedRouterKey] = createLazyLoader({\n\t\t\t\t\t\t\tref: nestedItem.ref,\n\t\t\t\t\t\t\tpath: lazyPath,\n\t\t\t\t\t\t\tkey: nestedKey,\n\t\t\t\t\t\t\taggregate: opts.aggregate[opts.key]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t};\n\t\t}\n\t\tfunction step(from, path = []) {\n\t\t\tconst aggregate = omitPrototype({});\n\t\t\tfor (const [key, item] of Object.entries(from !== null && from !== void 0 ? from : {})) {\n\t\t\t\tif (isLazy(item)) {\n\t\t\t\t\tlazy$1[[...path, key].join(\".\")] = createLazyLoader({\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\tref: item,\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\taggregate\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (isRouter(item)) {\n\t\t\t\t\taggregate[key] = step(item._def.record, [...path, key]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!isProcedure(item)) {\n\t\t\t\t\taggregate[key] = step(item, [...path, key]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst newPath = [...path, key].join(\".\");\n\t\t\t\tif (procedures[newPath]) throw new Error(`Duplicate key: ${newPath}`);\n\t\t\t\tprocedures[newPath] = item;\n\t\t\t\taggregate[key] = item;\n\t\t\t}\n\t\t\treturn aggregate;\n\t\t}\n\t\tconst record = step(input);\n\t\tconst _def = (0, import_objectSpread2.default)((0, import_objectSpread2.default)({\n\t\t\t_config: config,\n\t\t\trouter: true,\n\t\t\tprocedures,\n\t\t\tlazy: lazy$1\n\t\t}, emptyRouter), {}, { record });\n\t\tconst router = (0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, record), {}, {\n\t\t\t_def,\n\t\t\tcreateCaller: createCallerFactory()({ _def })\n\t\t});\n\t\treturn router;\n\t}\n\treturn createRouterInner;\n}\nfunction isProcedure(procedureOrRouter) {\n\treturn typeof procedureOrRouter === \"function\";\n}\n/**\n* @internal\n*/\nasync function getProcedureAtPath(router, path) {\n\tconst { _def } = router;\n\tlet procedure = _def.procedures[path];\n\twhile (!procedure) {\n\t\tconst key = Object.keys(_def.lazy).find((key$1) => path.startsWith(key$1));\n\t\tif (!key) return null;\n\t\tconst lazyRouter = _def.lazy[key];\n\t\tawait lazyRouter.load();\n\t\tprocedure = _def.procedures[path];\n\t}\n\treturn procedure;\n}\n/**\n* @internal\n*/\nasync function callProcedure(opts) {\n\tconst { type, path } = opts;\n\tconst proc = await getProcedureAtPath(opts.router, path);\n\tif (!proc || !isProcedure(proc) || proc._def.type !== type && !opts.allowMethodOverride) throw new TRPCError({\n\t\tcode: \"NOT_FOUND\",\n\t\tmessage: `No \"${type}\"-procedure on path \"${path}\"`\n\t});\n\t/* istanbul ignore if -- @preserve */\n\tif (proc._def.type !== type && opts.allowMethodOverride && proc._def.type === \"subscription\") throw new TRPCError({\n\t\tcode: \"METHOD_NOT_SUPPORTED\",\n\t\tmessage: `Method override is not supported for subscriptions`\n\t});\n\treturn proc(opts);\n}\nfunction createCallerFactory() {\n\treturn function createCallerInner(router) {\n\t\tconst { _def } = router;\n\t\treturn function createCaller(ctxOrCallback, opts) {\n\t\t\treturn createRecursiveProxy(async ({ path, args }) => {\n\t\t\t\tconst fullPath = path.join(\".\");\n\t\t\t\tif (path.length === 1 && path[0] === \"_def\") return _def;\n\t\t\t\tconst procedure = await getProcedureAtPath(router, fullPath);\n\t\t\t\tlet ctx = void 0;\n\t\t\t\ttry {\n\t\t\t\t\tif (!procedure) throw new TRPCError({\n\t\t\t\t\t\tcode: \"NOT_FOUND\",\n\t\t\t\t\t\tmessage: `No procedure found on path \"${path}\"`\n\t\t\t\t\t});\n\t\t\t\t\tctx = isFunction(ctxOrCallback) ? await Promise.resolve(ctxOrCallback()) : ctxOrCallback;\n\t\t\t\t\treturn await procedure({\n\t\t\t\t\t\tpath: fullPath,\n\t\t\t\t\t\tgetRawInput: async () => args[0],\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\ttype: procedure._def.type,\n\t\t\t\t\t\tsignal: opts === null || opts === void 0 ? void 0 : opts.signal\n\t\t\t\t\t});\n\t\t\t\t} catch (cause) {\n\t\t\t\t\tvar _opts$onError, _procedure$_def$type;\n\t\t\t\t\topts === null || opts === void 0 || (_opts$onError = opts.onError) === null || _opts$onError === void 0 || _opts$onError.call(opts, {\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\terror: getTRPCErrorFromUnknown(cause),\n\t\t\t\t\t\tinput: args[0],\n\t\t\t\t\t\tpath: fullPath,\n\t\t\t\t\t\ttype: (_procedure$_def$type = procedure === null || procedure === void 0 ? void 0 : procedure._def.type) !== null && _procedure$_def$type !== void 0 ? _procedure$_def$type : \"unknown\"\n\t\t\t\t\t});\n\t\t\t\t\tthrow cause;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t};\n}\nfunction mergeRouters(...routerList) {\n\tvar _routerList$;\n\tconst record = mergeWithoutOverrides({}, ...routerList.map((r) => r._def.record));\n\tconst errorFormatter = routerList.reduce((currentErrorFormatter, nextRouter) => {\n\t\tif (nextRouter._def._config.errorFormatter && nextRouter._def._config.errorFormatter !== defaultFormatter) {\n\t\t\tif (currentErrorFormatter !== defaultFormatter && currentErrorFormatter !== nextRouter._def._config.errorFormatter) throw new Error(\"You seem to have several error formatters\");\n\t\t\treturn nextRouter._def._config.errorFormatter;\n\t\t}\n\t\treturn currentErrorFormatter;\n\t}, defaultFormatter);\n\tconst transformer = routerList.reduce((prev, current) => {\n\t\tif (current._def._config.transformer && current._def._config.transformer !== defaultTransformer) {\n\t\t\tif (prev !== defaultTransformer && prev !== current._def._config.transformer) throw new Error(\"You seem to have several transformers\");\n\t\t\treturn current._def._config.transformer;\n\t\t}\n\t\treturn prev;\n\t}, defaultTransformer);\n\tconst router = createRouterFactory({\n\t\terrorFormatter,\n\t\ttransformer,\n\t\tisDev: routerList.every((r) => r._def._config.isDev),\n\t\tallowOutsideOfServer: routerList.every((r) => r._def._config.allowOutsideOfServer),\n\t\tisServer: routerList.every((r) => r._def._config.isServer),\n\t\t$types: (_routerList$ = routerList[0]) === null || _routerList$ === void 0 ? void 0 : _routerList$._def._config.$types\n\t})(record);\n\treturn router;\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/tracked.ts\nconst trackedSymbol = Symbol();\n/**\n* Produce a typed server-sent event message\n* @deprecated use `tracked(id, data)` instead\n*/\nfunction sse(event) {\n\treturn tracked(event.id, event.data);\n}\nfunction isTrackedEnvelope(value) {\n\treturn Array.isArray(value) && value[2] === trackedSymbol;\n}\n/**\n* Automatically track an event so that it can be resumed from a given id if the connection is lost\n*/\nfunction tracked(id, data) {\n\tif (id === \"\") throw new Error(\"`id` must not be an empty string as empty string is the same as not setting the id at all\");\n\treturn [\n\t\tid,\n\t\tdata,\n\t\ttrackedSymbol\n\t];\n}\n\n//#endregion\nexport { TRPCError, callProcedure, createCallerFactory, createRouterFactory, defaultFormatter, defaultTransformer, getCauseFromUnknown, getDataTransformer, getProcedureAtPath, getTRPCErrorFromUnknown, isTrackedEnvelope, lazy, mergeRouters, sse, tracked, transformResult, transformTRPCResponse };\n//# sourceMappingURL=tracked-gU3ttYjg.mjs.map","import { __commonJS, __toESM, require_defineProperty, require_objectSpread2 } from \"./getErrorShape-Uhlrl4Bk.mjs\";\nimport { TRPCError, createCallerFactory, createRouterFactory, defaultFormatter, defaultTransformer, getDataTransformer, getTRPCErrorFromUnknown, mergeRouters } from \"./tracked-gU3ttYjg.mjs\";\nimport { isObject, mergeWithoutOverrides } from \"./utils-DdbbrDku.mjs\";\n\n//#region src/unstable-core-do-not-import/middleware.ts\nvar import_objectSpread2$2 = __toESM(require_objectSpread2(), 1);\n/** @internal */\nconst middlewareMarker = \"middlewareMarker\";\n/**\n* @internal\n*/\nfunction createMiddlewareFactory() {\n\tfunction createMiddlewareInner(middlewares) {\n\t\treturn {\n\t\t\t_middlewares: middlewares,\n\t\t\tunstable_pipe(middlewareBuilderOrFn) {\n\t\t\t\tconst pipedMiddleware = \"_middlewares\" in middlewareBuilderOrFn ? middlewareBuilderOrFn._middlewares : [middlewareBuilderOrFn];\n\t\t\t\treturn createMiddlewareInner([...middlewares, ...pipedMiddleware]);\n\t\t\t}\n\t\t};\n\t}\n\tfunction createMiddleware(fn) {\n\t\treturn createMiddlewareInner([fn]);\n\t}\n\treturn createMiddleware;\n}\n/**\n* Create a standalone middleware\n* @see https://trpc.io/docs/v11/server/middlewares#experimental-standalone-middlewares\n* @deprecated use `.concat()` instead\n*/\nconst experimental_standaloneMiddleware = () => ({ create: createMiddlewareFactory() });\n/**\n* @internal\n* Please note, `trpc-openapi` uses this function.\n*/\nfunction createInputMiddleware(parse) {\n\tconst inputMiddleware = async function inputValidatorMiddleware(opts) {\n\t\tlet parsedInput;\n\t\tconst rawInput = await opts.getRawInput();\n\t\ttry {\n\t\t\tparsedInput = await parse(rawInput);\n\t\t} catch (cause) {\n\t\t\tthrow new TRPCError({\n\t\t\t\tcode: \"BAD_REQUEST\",\n\t\t\t\tcause\n\t\t\t});\n\t\t}\n\t\tconst combinedInput = isObject(opts.input) && isObject(parsedInput) ? (0, import_objectSpread2$2.default)((0, import_objectSpread2$2.default)({}, opts.input), parsedInput) : parsedInput;\n\t\treturn opts.next({ input: combinedInput });\n\t};\n\tinputMiddleware._type = \"input\";\n\treturn inputMiddleware;\n}\n/**\n* @internal\n*/\nfunction createOutputMiddleware(parse) {\n\tconst outputMiddleware = async function outputValidatorMiddleware({ next }) {\n\t\tconst result = await next();\n\t\tif (!result.ok) return result;\n\t\ttry {\n\t\t\tconst data = await parse(result.data);\n\t\t\treturn (0, import_objectSpread2$2.default)((0, import_objectSpread2$2.default)({}, result), {}, { data });\n\t\t} catch (cause) {\n\t\t\tthrow new TRPCError({\n\t\t\t\tmessage: \"Output validation failed\",\n\t\t\t\tcode: \"INTERNAL_SERVER_ERROR\",\n\t\t\t\tcause\n\t\t\t});\n\t\t}\n\t};\n\toutputMiddleware._type = \"output\";\n\treturn outputMiddleware;\n}\n\n//#endregion\n//#region src/vendor/standard-schema-v1/error.ts\nvar import_defineProperty = __toESM(require_defineProperty(), 1);\n/** A schema error with useful information. */\nvar StandardSchemaV1Error = class extends Error {\n\t/**\n\t* Creates a schema error with useful information.\n\t*\n\t* @param issues The schema issues.\n\t*/\n\tconstructor(issues) {\n\t\tvar _issues$;\n\t\tsuper((_issues$ = issues[0]) === null || _issues$ === void 0 ? void 0 : _issues$.message);\n\t\t(0, import_defineProperty.default)(this, \"issues\", void 0);\n\t\tthis.name = \"SchemaError\";\n\t\tthis.issues = issues;\n\t}\n};\n\n//#endregion\n//#region src/unstable-core-do-not-import/parser.ts\nfunction getParseFn(procedureParser) {\n\tconst parser = procedureParser;\n\tconst isStandardSchema = \"~standard\" in parser;\n\tif (typeof parser === \"function\" && typeof parser.assert === \"function\") return parser.assert.bind(parser);\n\tif (typeof parser === \"function\" && !isStandardSchema) return parser;\n\tif (typeof parser.parseAsync === \"function\") return parser.parseAsync.bind(parser);\n\tif (typeof parser.parse === \"function\") return parser.parse.bind(parser);\n\tif (typeof parser.validateSync === \"function\") return parser.validateSync.bind(parser);\n\tif (typeof parser.create === \"function\") return parser.create.bind(parser);\n\tif (typeof parser.assert === \"function\") return (value) => {\n\t\tparser.assert(value);\n\t\treturn value;\n\t};\n\tif (isStandardSchema) return async (value) => {\n\t\tconst result = await parser[\"~standard\"].validate(value);\n\t\tif (result.issues) throw new StandardSchemaV1Error(result.issues);\n\t\treturn result.value;\n\t};\n\tthrow new Error(\"Could not find a validator fn\");\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js\nvar require_objectWithoutPropertiesLoose = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js\"(exports, module) {\n\tfunction _objectWithoutPropertiesLoose(r, e) {\n\t\tif (null == r) return {};\n\t\tvar t = {};\n\t\tfor (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n\t\t\tif (e.includes(n)) continue;\n\t\t\tt[n] = r[n];\n\t\t}\n\t\treturn t;\n\t}\n\tmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js\nvar require_objectWithoutProperties = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js\"(exports, module) {\n\tvar objectWithoutPropertiesLoose = require_objectWithoutPropertiesLoose();\n\tfunction _objectWithoutProperties$1(e, t) {\n\t\tif (null == e) return {};\n\t\tvar o, r, i = objectWithoutPropertiesLoose(e, t);\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tvar s = Object.getOwnPropertySymbols(e);\n\t\t\tfor (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n\t\t}\n\t\treturn i;\n\t}\n\tmodule.exports = _objectWithoutProperties$1, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region src/unstable-core-do-not-import/procedureBuilder.ts\nvar import_objectWithoutProperties = __toESM(require_objectWithoutProperties(), 1);\nvar import_objectSpread2$1 = __toESM(require_objectSpread2(), 1);\nconst _excluded = [\n\t\"middlewares\",\n\t\"inputs\",\n\t\"meta\"\n];\nfunction createNewBuilder(def1, def2) {\n\tconst { middlewares = [], inputs, meta } = def2, rest = (0, import_objectWithoutProperties.default)(def2, _excluded);\n\treturn createBuilder((0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, mergeWithoutOverrides(def1, rest)), {}, {\n\t\tinputs: [...def1.inputs, ...inputs !== null && inputs !== void 0 ? inputs : []],\n\t\tmiddlewares: [...def1.middlewares, ...middlewares],\n\t\tmeta: def1.meta && meta ? (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, def1.meta), meta) : meta !== null && meta !== void 0 ? meta : def1.meta\n\t}));\n}\nfunction createBuilder(initDef = {}) {\n\tconst _def = (0, import_objectSpread2$1.default)({\n\t\tprocedure: true,\n\t\tinputs: [],\n\t\tmiddlewares: []\n\t}, initDef);\n\tconst builder = {\n\t\t_def,\n\t\tinput(input) {\n\t\t\tconst parser = getParseFn(input);\n\t\t\treturn createNewBuilder(_def, {\n\t\t\t\tinputs: [input],\n\t\t\t\tmiddlewares: [createInputMiddleware(parser)]\n\t\t\t});\n\t\t},\n\t\toutput(output) {\n\t\t\tconst parser = getParseFn(output);\n\t\t\treturn createNewBuilder(_def, {\n\t\t\t\toutput,\n\t\t\t\tmiddlewares: [createOutputMiddleware(parser)]\n\t\t\t});\n\t\t},\n\t\tmeta(meta) {\n\t\t\treturn createNewBuilder(_def, { meta });\n\t\t},\n\t\tuse(middlewareBuilderOrFn) {\n\t\t\tconst middlewares = \"_middlewares\" in middlewareBuilderOrFn ? middlewareBuilderOrFn._middlewares : [middlewareBuilderOrFn];\n\t\t\treturn createNewBuilder(_def, { middlewares });\n\t\t},\n\t\tunstable_concat(builder$1) {\n\t\t\treturn createNewBuilder(_def, builder$1._def);\n\t\t},\n\t\tconcat(builder$1) {\n\t\t\treturn createNewBuilder(_def, builder$1._def);\n\t\t},\n\t\tquery(resolver) {\n\t\t\treturn createResolver((0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, _def), {}, { type: \"query\" }), resolver);\n\t\t},\n\t\tmutation(resolver) {\n\t\t\treturn createResolver((0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, _def), {}, { type: \"mutation\" }), resolver);\n\t\t},\n\t\tsubscription(resolver) {\n\t\t\treturn createResolver((0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, _def), {}, { type: \"subscription\" }), resolver);\n\t\t},\n\t\texperimental_caller(caller) {\n\t\t\treturn createNewBuilder(_def, { caller });\n\t\t}\n\t};\n\treturn builder;\n}\nfunction createResolver(_defIn, resolver) {\n\tconst finalBuilder = createNewBuilder(_defIn, {\n\t\tresolver,\n\t\tmiddlewares: [async function resolveMiddleware(opts) {\n\t\t\tconst data = await resolver(opts);\n\t\t\treturn {\n\t\t\t\tmarker: middlewareMarker,\n\t\t\t\tok: true,\n\t\t\t\tdata,\n\t\t\t\tctx: opts.ctx\n\t\t\t};\n\t\t}]\n\t});\n\tconst _def = (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, finalBuilder._def), {}, {\n\t\ttype: _defIn.type,\n\t\texperimental_caller: Boolean(finalBuilder._def.caller),\n\t\tmeta: finalBuilder._def.meta,\n\t\t$types: null\n\t});\n\tconst invoke = createProcedureCaller(finalBuilder._def);\n\tconst callerOverride = finalBuilder._def.caller;\n\tif (!callerOverride) return invoke;\n\tconst callerWrapper = async (...args) => {\n\t\treturn await callerOverride({\n\t\t\targs,\n\t\t\tinvoke,\n\t\t\t_def\n\t\t});\n\t};\n\tcallerWrapper._def = _def;\n\treturn callerWrapper;\n}\nconst codeblock = `\nThis is a client-only function.\nIf you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls\n`.trim();\nasync function callRecursive(index, _def, opts) {\n\ttry {\n\t\tconst middleware = _def.middlewares[index];\n\t\tconst result = await middleware((0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, opts), {}, {\n\t\t\tmeta: _def.meta,\n\t\t\tinput: opts.input,\n\t\t\tnext(_nextOpts) {\n\t\t\t\tvar _nextOpts$getRawInput;\n\t\t\t\tconst nextOpts = _nextOpts;\n\t\t\t\treturn callRecursive(index + 1, _def, (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, opts), {}, {\n\t\t\t\t\tctx: (nextOpts === null || nextOpts === void 0 ? void 0 : nextOpts.ctx) ? (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, opts.ctx), nextOpts.ctx) : opts.ctx,\n\t\t\t\t\tinput: nextOpts && \"input\" in nextOpts ? nextOpts.input : opts.input,\n\t\t\t\t\tgetRawInput: (_nextOpts$getRawInput = nextOpts === null || nextOpts === void 0 ? void 0 : nextOpts.getRawInput) !== null && _nextOpts$getRawInput !== void 0 ? _nextOpts$getRawInput : opts.getRawInput\n\t\t\t\t}));\n\t\t\t}\n\t\t}));\n\t\treturn result;\n\t} catch (cause) {\n\t\treturn {\n\t\t\tok: false,\n\t\t\terror: getTRPCErrorFromUnknown(cause),\n\t\t\tmarker: middlewareMarker\n\t\t};\n\t}\n}\nfunction createProcedureCaller(_def) {\n\tasync function procedure(opts) {\n\t\tif (!opts || !(\"getRawInput\" in opts)) throw new Error(codeblock);\n\t\tconst result = await callRecursive(0, _def, opts);\n\t\tif (!result) throw new TRPCError({\n\t\t\tcode: \"INTERNAL_SERVER_ERROR\",\n\t\t\tmessage: \"No result from middlewares - did you forget to `return next()`?\"\n\t\t});\n\t\tif (!result.ok) throw result.error;\n\t\treturn result.data;\n\t}\n\tprocedure._def = _def;\n\tprocedure.procedure = true;\n\tprocedure.meta = _def.meta;\n\treturn procedure;\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/rootConfig.ts\nvar _globalThis$process, _globalThis$process2, _globalThis$process3;\n/**\n* The default check to see if we're in a server\n*/\nconst isServerDefault = typeof window === \"undefined\" || \"Deno\" in window || ((_globalThis$process = globalThis.process) === null || _globalThis$process === void 0 || (_globalThis$process = _globalThis$process.env) === null || _globalThis$process === void 0 ? void 0 : _globalThis$process[\"NODE_ENV\"]) === \"test\" || !!((_globalThis$process2 = globalThis.process) === null || _globalThis$process2 === void 0 || (_globalThis$process2 = _globalThis$process2.env) === null || _globalThis$process2 === void 0 ? void 0 : _globalThis$process2[\"JEST_WORKER_ID\"]) || !!((_globalThis$process3 = globalThis.process) === null || _globalThis$process3 === void 0 || (_globalThis$process3 = _globalThis$process3.env) === null || _globalThis$process3 === void 0 ? void 0 : _globalThis$process3[\"VITEST_WORKER_ID\"]);\n\n//#endregion\n//#region src/unstable-core-do-not-import/initTRPC.ts\nvar import_objectSpread2 = __toESM(require_objectSpread2(), 1);\nvar TRPCBuilder = class TRPCBuilder {\n\t/**\n\t* Add a context shape as a generic to the root object\n\t* @see https://trpc.io/docs/v11/server/context\n\t*/\n\tcontext() {\n\t\treturn new TRPCBuilder();\n\t}\n\t/**\n\t* Add a meta shape as a generic to the root object\n\t* @see https://trpc.io/docs/v11/quickstart\n\t*/\n\tmeta() {\n\t\treturn new TRPCBuilder();\n\t}\n\t/**\n\t* Create the root object\n\t* @see https://trpc.io/docs/v11/server/routers#initialize-trpc\n\t*/\n\tcreate(opts) {\n\t\tvar _opts$transformer, _opts$isDev, _globalThis$process$1, _opts$allowOutsideOfS, _opts$errorFormatter, _opts$isServer;\n\t\tconst config = (0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, opts), {}, {\n\t\t\ttransformer: getDataTransformer((_opts$transformer = opts === null || opts === void 0 ? void 0 : opts.transformer) !== null && _opts$transformer !== void 0 ? _opts$transformer : defaultTransformer),\n\t\t\tisDev: (_opts$isDev = opts === null || opts === void 0 ? void 0 : opts.isDev) !== null && _opts$isDev !== void 0 ? _opts$isDev : ((_globalThis$process$1 = globalThis.process) === null || _globalThis$process$1 === void 0 ? void 0 : _globalThis$process$1.env[\"NODE_ENV\"]) !== \"production\",\n\t\t\tallowOutsideOfServer: (_opts$allowOutsideOfS = opts === null || opts === void 0 ? void 0 : opts.allowOutsideOfServer) !== null && _opts$allowOutsideOfS !== void 0 ? _opts$allowOutsideOfS : false,\n\t\t\terrorFormatter: (_opts$errorFormatter = opts === null || opts === void 0 ? void 0 : opts.errorFormatter) !== null && _opts$errorFormatter !== void 0 ? _opts$errorFormatter : defaultFormatter,\n\t\t\tisServer: (_opts$isServer = opts === null || opts === void 0 ? void 0 : opts.isServer) !== null && _opts$isServer !== void 0 ? _opts$isServer : isServerDefault,\n\t\t\t$types: null\n\t\t});\n\t\t{\n\t\t\tvar _opts$isServer2;\n\t\t\tconst isServer = (_opts$isServer2 = opts === null || opts === void 0 ? void 0 : opts.isServer) !== null && _opts$isServer2 !== void 0 ? _opts$isServer2 : isServerDefault;\n\t\t\tif (!isServer && (opts === null || opts === void 0 ? void 0 : opts.allowOutsideOfServer) !== true) throw new Error(`You're trying to use @trpc/server in a non-server environment. This is not supported by default.`);\n\t\t}\n\t\treturn {\n\t\t\t_config: config,\n\t\t\tprocedure: createBuilder({ meta: opts === null || opts === void 0 ? void 0 : opts.defaultMeta }),\n\t\t\tmiddleware: createMiddlewareFactory(),\n\t\t\trouter: createRouterFactory(config),\n\t\t\tmergeRouters,\n\t\t\tcreateCallerFactory: createCallerFactory()\n\t\t};\n\t}\n};\n/**\n* Builder to initialize the tRPC root object - use this exactly once per backend\n* @see https://trpc.io/docs/v11/quickstart\n*/\nconst initTRPC = new TRPCBuilder();\n\n//#endregion\nexport { StandardSchemaV1Error, createBuilder, createInputMiddleware, createMiddlewareFactory, createOutputMiddleware, experimental_standaloneMiddleware, getParseFn, initTRPC, isServerDefault, middlewareMarker };\n//# sourceMappingURL=initTRPC-IT_6ZYJd.mjs.map","import { isObject } from \"./utils-DdbbrDku.mjs\";\n\n//#region src/unstable-core-do-not-import/procedure.ts\nconst procedureTypes = [\n\t\"query\",\n\t\"mutation\",\n\t\"subscription\"\n];\n\n//#endregion\n//#region src/unstable-core-do-not-import/rpc/parseTRPCMessage.ts\n/* istanbul ignore next -- @preserve */\nfunction assertIsObject(obj) {\n\tif (!isObject(obj)) throw new Error(\"Not an object\");\n}\n/* istanbul ignore next -- @preserve */\nfunction assertIsProcedureType(obj) {\n\tif (!procedureTypes.includes(obj)) throw new Error(\"Invalid procedure type\");\n}\n/* istanbul ignore next -- @preserve */\nfunction assertIsRequestId(obj) {\n\tif (obj !== null && typeof obj === \"number\" && isNaN(obj) && typeof obj !== \"string\") throw new Error(\"Invalid request id\");\n}\n/* istanbul ignore next -- @preserve */\nfunction assertIsString(obj) {\n\tif (typeof obj !== \"string\") throw new Error(\"Invalid string\");\n}\n/* istanbul ignore next -- @preserve */\nfunction assertIsJSONRPC2OrUndefined(obj) {\n\tif (typeof obj !== \"undefined\" && obj !== \"2.0\") throw new Error(\"Must be JSONRPC 2.0\");\n}\n/** @public */\nfunction parseTRPCMessage(obj, transformer) {\n\tassertIsObject(obj);\n\tconst { id, jsonrpc, method, params } = obj;\n\tassertIsRequestId(id);\n\tassertIsJSONRPC2OrUndefined(jsonrpc);\n\tif (method === \"subscription.stop\") return {\n\t\tid,\n\t\tjsonrpc,\n\t\tmethod\n\t};\n\tassertIsProcedureType(method);\n\tassertIsObject(params);\n\tconst { input: rawInput, path, lastEventId } = params;\n\tassertIsString(path);\n\tif (lastEventId !== void 0) assertIsString(lastEventId);\n\tconst input = transformer.input.deserialize(rawInput);\n\treturn {\n\t\tid,\n\t\tjsonrpc,\n\t\tmethod,\n\t\tparams: {\n\t\t\tinput,\n\t\t\tpath,\n\t\t\tlastEventId\n\t\t}\n\t};\n}\n\n//#endregion\nexport { parseTRPCMessage, procedureTypes };\n//# sourceMappingURL=parseTRPCMessage-ByIHyFRz.mjs.map","//#region src/observable/observable.ts\n/** @public */\nfunction isObservable(x) {\n\treturn typeof x === \"object\" && x !== null && \"subscribe\" in x;\n}\n/** @public */\nfunction observable(subscribe) {\n\tconst self = {\n\t\tsubscribe(observer) {\n\t\t\tlet teardownRef = null;\n\t\t\tlet isDone = false;\n\t\t\tlet unsubscribed = false;\n\t\t\tlet teardownImmediately = false;\n\t\t\tfunction unsubscribe() {\n\t\t\t\tif (teardownRef === null) {\n\t\t\t\t\tteardownImmediately = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (unsubscribed) return;\n\t\t\t\tunsubscribed = true;\n\t\t\t\tif (typeof teardownRef === \"function\") teardownRef();\n\t\t\t\telse if (teardownRef) teardownRef.unsubscribe();\n\t\t\t}\n\t\t\tteardownRef = subscribe({\n\t\t\t\tnext(value) {\n\t\t\t\t\tvar _observer$next;\n\t\t\t\t\tif (isDone) return;\n\t\t\t\t\t(_observer$next = observer.next) === null || _observer$next === void 0 || _observer$next.call(observer, value);\n\t\t\t\t},\n\t\t\t\terror(err) {\n\t\t\t\t\tvar _observer$error;\n\t\t\t\t\tif (isDone) return;\n\t\t\t\t\tisDone = true;\n\t\t\t\t\t(_observer$error = observer.error) === null || _observer$error === void 0 || _observer$error.call(observer, err);\n\t\t\t\t\tunsubscribe();\n\t\t\t\t},\n\t\t\t\tcomplete() {\n\t\t\t\t\tvar _observer$complete;\n\t\t\t\t\tif (isDone) return;\n\t\t\t\t\tisDone = true;\n\t\t\t\t\t(_observer$complete = observer.complete) === null || _observer$complete === void 0 || _observer$complete.call(observer);\n\t\t\t\t\tunsubscribe();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (teardownImmediately) unsubscribe();\n\t\t\treturn { unsubscribe };\n\t\t},\n\t\tpipe(...operations) {\n\t\t\treturn operations.reduce(pipeReducer, self);\n\t\t}\n\t};\n\treturn self;\n}\nfunction pipeReducer(prev, fn) {\n\treturn fn(prev);\n}\n/** @internal */\nfunction observableToPromise(observable$1) {\n\tconst ac = new AbortController();\n\tconst promise = new Promise((resolve, reject) => {\n\t\tlet isDone = false;\n\t\tfunction onDone() {\n\t\t\tif (isDone) return;\n\t\t\tisDone = true;\n\t\t\tobs$.unsubscribe();\n\t\t}\n\t\tac.signal.addEventListener(\"abort\", () => {\n\t\t\treject(ac.signal.reason);\n\t\t});\n\t\tconst obs$ = observable$1.subscribe({\n\t\t\tnext(data) {\n\t\t\t\tisDone = true;\n\t\t\t\tresolve(data);\n\t\t\t\tonDone();\n\t\t\t},\n\t\t\terror(data) {\n\t\t\t\treject(data);\n\t\t\t},\n\t\t\tcomplete() {\n\t\t\t\tac.abort();\n\t\t\t\tonDone();\n\t\t\t}\n\t\t});\n\t});\n\treturn promise;\n}\n/**\n* @internal\n*/\nfunction observableToReadableStream(observable$1, signal) {\n\tlet unsub = null;\n\tconst onAbort = () => {\n\t\tunsub === null || unsub === void 0 || unsub.unsubscribe();\n\t\tunsub = null;\n\t\tsignal.removeEventListener(\"abort\", onAbort);\n\t};\n\treturn new ReadableStream({\n\t\tstart(controller) {\n\t\t\tunsub = observable$1.subscribe({\n\t\t\t\tnext(data) {\n\t\t\t\t\tcontroller.enqueue({\n\t\t\t\t\t\tok: true,\n\t\t\t\t\t\tvalue: data\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\terror(error) {\n\t\t\t\t\tcontroller.enqueue({\n\t\t\t\t\t\tok: false,\n\t\t\t\t\t\terror\n\t\t\t\t\t});\n\t\t\t\t\tcontroller.close();\n\t\t\t\t},\n\t\t\t\tcomplete() {\n\t\t\t\t\tcontroller.close();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (signal.aborted) onAbort();\n\t\t\telse signal.addEventListener(\"abort\", onAbort, { once: true });\n\t\t},\n\t\tcancel() {\n\t\t\tonAbort();\n\t\t}\n\t});\n}\n/** @internal */\nfunction observableToAsyncIterable(observable$1, signal) {\n\tconst stream = observableToReadableStream(observable$1, signal);\n\tconst reader = stream.getReader();\n\tconst iterator = {\n\t\tasync next() {\n\t\t\tconst value = await reader.read();\n\t\t\tif (value.done) return {\n\t\t\t\tvalue: void 0,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t\tconst { value: result } = value;\n\t\t\tif (!result.ok) throw result.error;\n\t\t\treturn {\n\t\t\t\tvalue: result.value,\n\t\t\t\tdone: false\n\t\t\t};\n\t\t},\n\t\tasync return() {\n\t\t\tawait reader.cancel();\n\t\t\treturn {\n\t\t\t\tvalue: void 0,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\t};\n\treturn { [Symbol.asyncIterator]() {\n\t\treturn iterator;\n\t} };\n}\n\n//#endregion\nexport { isObservable, observable, observableToAsyncIterable, observableToPromise };\n//# sourceMappingURL=observable-UMO3vUa_.mjs.map","import { __commonJS, __toESM, getErrorShape, getHTTPStatusCode, require_defineProperty, require_objectSpread2 } from \"./getErrorShape-Uhlrl4Bk.mjs\";\nimport { TRPCError, getProcedureAtPath, getTRPCErrorFromUnknown, isTrackedEnvelope, transformTRPCResponse } from \"./tracked-gU3ttYjg.mjs\";\nimport { identity, isAsyncIterable, isFunction, isObject, run } from \"./utils-DdbbrDku.mjs\";\nimport { isObservable, observableToAsyncIterable } from \"./observable-UMO3vUa_.mjs\";\n\n//#region src/unstable-core-do-not-import/http/parseConnectionParams.ts\nfunction parseConnectionParamsFromUnknown(parsed) {\n\ttry {\n\t\tif (parsed === null) return null;\n\t\tif (!isObject(parsed)) throw new Error(\"Expected object\");\n\t\tconst nonStringValues = Object.entries(parsed).filter(([_key, value]) => typeof value !== \"string\");\n\t\tif (nonStringValues.length > 0) throw new Error(`Expected connectionParams to be string values. Got ${nonStringValues.map(([key, value]) => `${key}: ${typeof value}`).join(\", \")}`);\n\t\treturn parsed;\n\t} catch (cause) {\n\t\tthrow new TRPCError({\n\t\t\tcode: \"PARSE_ERROR\",\n\t\t\tmessage: \"Invalid connection params shape\",\n\t\t\tcause\n\t\t});\n\t}\n}\nfunction parseConnectionParamsFromString(str) {\n\tlet parsed;\n\ttry {\n\t\tparsed = JSON.parse(str);\n\t} catch (cause) {\n\t\tthrow new TRPCError({\n\t\t\tcode: \"PARSE_ERROR\",\n\t\t\tmessage: \"Not JSON-parsable query params\",\n\t\t\tcause\n\t\t});\n\t}\n\treturn parseConnectionParamsFromUnknown(parsed);\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/http/contentType.ts\nvar import_objectSpread2$1 = __toESM(require_objectSpread2(), 1);\n/**\n* Memoize a function that takes no arguments\n* @internal\n*/\nfunction memo(fn) {\n\tlet promise = null;\n\tconst sym = Symbol.for(\"@trpc/server/http/memo\");\n\tlet value = sym;\n\treturn {\n\t\tread: async () => {\n\t\t\tvar _promise;\n\t\t\tif (value !== sym) return value;\n\t\t\t(_promise = promise) !== null && _promise !== void 0 || (promise = fn().catch((cause) => {\n\t\t\t\tif (cause instanceof TRPCError) throw cause;\n\t\t\t\tthrow new TRPCError({\n\t\t\t\t\tcode: \"BAD_REQUEST\",\n\t\t\t\t\tmessage: cause instanceof Error ? cause.message : \"Invalid input\",\n\t\t\t\t\tcause\n\t\t\t\t});\n\t\t\t}));\n\t\t\tvalue = await promise;\n\t\t\tpromise = null;\n\t\t\treturn value;\n\t\t},\n\t\tresult: () => {\n\t\t\treturn value !== sym ? value : void 0;\n\t\t}\n\t};\n}\nconst jsonContentTypeHandler = {\n\tisMatch(req) {\n\t\tvar _req$headers$get;\n\t\treturn !!((_req$headers$get = req.headers.get(\"content-type\")) === null || _req$headers$get === void 0 ? void 0 : _req$headers$get.startsWith(\"application/json\"));\n\t},\n\tasync parse(opts) {\n\t\tvar _types$values$next$va;\n\t\tconst { req } = opts;\n\t\tconst isBatchCall = opts.searchParams.get(\"batch\") === \"1\";\n\t\tconst paths = isBatchCall ? opts.path.split(\",\") : [opts.path];\n\t\tconst getInputs = memo(async () => {\n\t\t\tlet inputs = void 0;\n\t\t\tif (req.method === \"GET\") {\n\t\t\t\tconst queryInput = opts.searchParams.get(\"input\");\n\t\t\t\tif (queryInput) inputs = JSON.parse(queryInput);\n\t\t\t} else inputs = await req.json();\n\t\t\tif (inputs === void 0) return {};\n\t\t\tif (!isBatchCall) return { 0: opts.router._def._config.transformer.input.deserialize(inputs) };\n\t\t\tif (!isObject(inputs)) throw new TRPCError({\n\t\t\t\tcode: \"BAD_REQUEST\",\n\t\t\t\tmessage: \"\\\"input\\\" needs to be an object when doing a batch call\"\n\t\t\t});\n\t\t\tconst acc = {};\n\t\t\tfor (const index of paths.keys()) {\n\t\t\t\tconst input = inputs[index];\n\t\t\t\tif (input !== void 0) acc[index] = opts.router._def._config.transformer.input.deserialize(input);\n\t\t\t}\n\t\t\treturn acc;\n\t\t});\n\t\tconst calls = await Promise.all(paths.map(async (path, index) => {\n\t\t\tconst procedure = await getProcedureAtPath(opts.router, path);\n\t\t\treturn {\n\t\t\t\tpath,\n\t\t\t\tprocedure,\n\t\t\t\tgetRawInput: async () => {\n\t\t\t\t\tconst inputs = await getInputs.read();\n\t\t\t\t\tlet input = inputs[index];\n\t\t\t\t\tif ((procedure === null || procedure === void 0 ? void 0 : procedure._def.type) === \"subscription\") {\n\t\t\t\t\t\tvar _ref, _opts$headers$get;\n\t\t\t\t\t\tconst lastEventId = (_ref = (_opts$headers$get = opts.headers.get(\"last-event-id\")) !== null && _opts$headers$get !== void 0 ? _opts$headers$get : opts.searchParams.get(\"lastEventId\")) !== null && _ref !== void 0 ? _ref : opts.searchParams.get(\"Last-Event-Id\");\n\t\t\t\t\t\tif (lastEventId) if (isObject(input)) input = (0, import_objectSpread2$1.default)((0, import_objectSpread2$1.default)({}, input), {}, { lastEventId });\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar _input;\n\t\t\t\t\t\t\t(_input = input) !== null && _input !== void 0 || (input = { lastEventId });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn input;\n\t\t\t\t},\n\t\t\t\tresult: () => {\n\t\t\t\t\tvar _getInputs$result;\n\t\t\t\t\treturn (_getInputs$result = getInputs.result()) === null || _getInputs$result === void 0 ? void 0 : _getInputs$result[index];\n\t\t\t\t}\n\t\t\t};\n\t\t}));\n\t\tconst types = new Set(calls.map((call) => {\n\t\t\tvar _call$procedure;\n\t\t\treturn (_call$procedure = call.procedure) === null || _call$procedure === void 0 ? void 0 : _call$procedure._def.type;\n\t\t}).filter(Boolean));\n\t\t/* istanbul ignore if -- @preserve */\n\t\tif (types.size > 1) throw new TRPCError({\n\t\t\tcode: \"BAD_REQUEST\",\n\t\t\tmessage: `Cannot mix procedure types in call: ${Array.from(types).join(\", \")}`\n\t\t});\n\t\tconst type = (_types$values$next$va = types.values().next().value) !== null && _types$values$next$va !== void 0 ? _types$values$next$va : \"unknown\";\n\t\tconst connectionParamsStr = opts.searchParams.get(\"connectionParams\");\n\t\tconst info = {\n\t\t\tisBatchCall,\n\t\t\taccept: req.headers.get(\"trpc-accept\"),\n\t\t\tcalls,\n\t\t\ttype,\n\t\t\tconnectionParams: connectionParamsStr === null ? null : parseConnectionParamsFromString(connectionParamsStr),\n\t\t\tsignal: req.signal,\n\t\t\turl: opts.url\n\t\t};\n\t\treturn info;\n\t}\n};\nconst formDataContentTypeHandler = {\n\tisMatch(req) {\n\t\tvar _req$headers$get2;\n\t\treturn !!((_req$headers$get2 = req.headers.get(\"content-type\")) === null || _req$headers$get2 === void 0 ? void 0 : _req$headers$get2.startsWith(\"multipart/form-data\"));\n\t},\n\tasync parse(opts) {\n\t\tconst { req } = opts;\n\t\tif (req.method !== \"POST\") throw new TRPCError({\n\t\t\tcode: \"METHOD_NOT_SUPPORTED\",\n\t\t\tmessage: \"Only POST requests are supported for multipart/form-data requests\"\n\t\t});\n\t\tconst getInputs = memo(async () => {\n\t\t\tconst fd = await req.formData();\n\t\t\treturn fd;\n\t\t});\n\t\tconst procedure = await getProcedureAtPath(opts.router, opts.path);\n\t\treturn {\n\t\t\taccept: null,\n\t\t\tcalls: [{\n\t\t\t\tpath: opts.path,\n\t\t\t\tgetRawInput: getInputs.read,\n\t\t\t\tresult: getInputs.result,\n\t\t\t\tprocedure\n\t\t\t}],\n\t\t\tisBatchCall: false,\n\t\t\ttype: \"mutation\",\n\t\t\tconnectionParams: null,\n\t\t\tsignal: req.signal,\n\t\t\turl: opts.url\n\t\t};\n\t}\n};\nconst octetStreamContentTypeHandler = {\n\tisMatch(req) {\n\t\tvar _req$headers$get3;\n\t\treturn !!((_req$headers$get3 = req.headers.get(\"content-type\")) === null || _req$headers$get3 === void 0 ? void 0 : _req$headers$get3.startsWith(\"application/octet-stream\"));\n\t},\n\tasync parse(opts) {\n\t\tconst { req } = opts;\n\t\tif (req.method !== \"POST\") throw new TRPCError({\n\t\t\tcode: \"METHOD_NOT_SUPPORTED\",\n\t\t\tmessage: \"Only POST requests are supported for application/octet-stream requests\"\n\t\t});\n\t\tconst getInputs = memo(async () => {\n\t\t\treturn req.body;\n\t\t});\n\t\treturn {\n\t\t\tcalls: [{\n\t\t\t\tpath: opts.path,\n\t\t\t\tgetRawInput: getInputs.read,\n\t\t\t\tresult: getInputs.result,\n\t\t\t\tprocedure: await getProcedureAtPath(opts.router, opts.path)\n\t\t\t}],\n\t\t\tisBatchCall: false,\n\t\t\taccept: null,\n\t\t\ttype: \"mutation\",\n\t\t\tconnectionParams: null,\n\t\t\tsignal: req.signal,\n\t\t\turl: opts.url\n\t\t};\n\t}\n};\nconst handlers = [\n\tjsonContentTypeHandler,\n\tformDataContentTypeHandler,\n\toctetStreamContentTypeHandler\n];\nfunction getContentTypeHandler(req) {\n\tconst handler = handlers.find((handler$1) => handler$1.isMatch(req));\n\tif (handler) return handler;\n\tif (!handler && req.method === \"GET\") return jsonContentTypeHandler;\n\tthrow new TRPCError({\n\t\tcode: \"UNSUPPORTED_MEDIA_TYPE\",\n\t\tmessage: req.headers.has(\"content-type\") ? `Unsupported content-type \"${req.headers.get(\"content-type\")}` : \"Missing content-type header\"\n\t});\n}\nasync function getRequestInfo(opts) {\n\tconst handler = getContentTypeHandler(opts.req);\n\treturn await handler.parse(opts);\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/http/abortError.ts\nfunction isAbortError(error) {\n\treturn isObject(error) && error[\"name\"] === \"AbortError\";\n}\nfunction throwAbortError(message = \"AbortError\") {\n\tthrow new DOMException(message, \"AbortError\");\n}\n\n//#endregion\n//#region src/vendor/unpromise/unpromise.ts\nvar import_defineProperty = __toESM(require_defineProperty(), 1);\nlet _Symbol$toStringTag;\n/** Memory safe (weakmapped) cache of the ProxyPromise for each Promise,\n* which is retained for the lifetime of the original Promise.\n*/\nconst subscribableCache = /* @__PURE__ */ new WeakMap();\n/** A NOOP function allowing a consistent interface for settled\n* SubscribedPromises (settled promises are not subscribed - they resolve\n* immediately). */\nconst NOOP = () => {};\n_Symbol$toStringTag = Symbol.toStringTag;\n/**\n* Every `Promise<T>` can be shadowed by a single `ProxyPromise<T>`. It is\n* created once, cached and reused throughout the lifetime of the Promise. Get a\n* Promise's ProxyPromise using `Unpromise.proxy(promise)`.\n*\n* The `ProxyPromise<T>` attaches handlers to the original `Promise<T>`\n* `.then()` and `.catch()` just once. Promises derived from it use a\n* subscription- (and unsubscription-) based mechanism that monitors these\n* handlers.\n*\n* Every time you call `.subscribe()`, `.then()` `.catch()` or `.finally()` on a\n* `ProxyPromise<T>` it returns a `SubscribedPromise<T>` having an additional\n* `unsubscribe()` method. Calling `unsubscribe()` detaches reference chains\n* from the original, potentially long-lived Promise, eliminating memory leaks.\n*\n* This approach can eliminate the memory leaks that otherwise come about from\n* repeated `race()` or `any()` calls invoking `.then()` and `.catch()` multiple\n* times on the same long-lived native Promise (subscriptions which can never be\n* cleaned up).\n*\n* `Unpromise.race(promises)` is a reference implementation of `Promise.race`\n* avoiding memory leaks when using long-lived unsettled Promises.\n*\n* `Unpromise.any(promises)` is a reference implementation of `Promise.any`\n* avoiding memory leaks when using long-lived unsettled Promises.\n*\n* `Unpromise.resolve(promise)` returns an ephemeral `SubscribedPromise<T>` for\n* any given `Promise<T>` facilitating arbitrary async/await patterns. Behind\n* the scenes, `resolve` is implemented simply as\n* `Unpromise.proxy(promise).subscribe()`. Don't forget to call `.unsubscribe()`\n* to tidy up!\n*\n*/\nvar Unpromise = class Unpromise {\n\tconstructor(arg) {\n\t\t(0, import_defineProperty.default)(this, \"promise\", void 0);\n\t\t(0, import_defineProperty.default)(this, \"subscribers\", []);\n\t\t(0, import_defineProperty.default)(this, \"settlement\", null);\n\t\t(0, import_defineProperty.default)(this, _Symbol$toStringTag, \"Unpromise\");\n\t\tif (typeof arg === \"function\") this.promise = new Promise(arg);\n\t\telse this.promise = arg;\n\t\tconst thenReturn = this.promise.then((value) => {\n\t\t\tconst { subscribers } = this;\n\t\t\tthis.subscribers = null;\n\t\t\tthis.settlement = {\n\t\t\t\tstatus: \"fulfilled\",\n\t\t\t\tvalue\n\t\t\t};\n\t\t\tsubscribers === null || subscribers === void 0 || subscribers.forEach(({ resolve }) => {\n\t\t\t\tresolve(value);\n\t\t\t});\n\t\t});\n\t\tif (\"catch\" in thenReturn) thenReturn.catch((reason) => {\n\t\t\tconst { subscribers } = this;\n\t\t\tthis.subscribers = null;\n\t\t\tthis.settlement = {\n\t\t\t\tstatus: \"rejected\",\n\t\t\t\treason\n\t\t\t};\n\t\t\tsubscribers === null || subscribers === void 0 || subscribers.forEach(({ reject }) => {\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t});\n\t}\n\t/** Create a promise that mitigates uncontrolled subscription to a long-lived\n\t* Promise via .then() and .catch() - otherwise a source of memory leaks.\n\t*\n\t* The returned promise has an `unsubscribe()` method which can be called when\n\t* the Promise is no longer being tracked by application logic, and which\n\t* ensures that there is no reference chain from the original promise to the\n\t* new one, and therefore no memory leak.\n\t*\n\t* If original promise has not yet settled, this adds a new unique promise\n\t* that listens to then/catch events, along with an `unsubscribe()` method to\n\t* detach it.\n\t*\n\t* If original promise has settled, then creates a new Promise.resolve() or\n\t* Promise.reject() and provided unsubscribe is a noop.\n\t*\n\t* If you call `unsubscribe()` before the returned Promise has settled, it\n\t* will never settle.\n\t*/\n\tsubscribe() {\n\t\tlet promise;\n\t\tlet unsubscribe;\n\t\tconst { settlement } = this;\n\t\tif (settlement === null) {\n\t\t\tif (this.subscribers === null) throw new Error(\"Unpromise settled but still has subscribers\");\n\t\t\tconst subscriber = withResolvers();\n\t\t\tthis.subscribers = listWithMember(this.subscribers, subscriber);\n\t\t\tpromise = subscriber.promise;\n\t\t\tunsubscribe = () => {\n\t\t\t\tif (this.subscribers !== null) this.subscribers = listWithoutMember(this.subscribers, subscriber);\n\t\t\t};\n\t\t} else {\n\t\t\tconst { status } = settlement;\n\t\t\tif (status === \"fulfilled\") promise = Promise.resolve(settlement.value);\n\t\t\telse promise = Promise.reject(settlement.reason);\n\t\t\tunsubscribe = NOOP;\n\t\t}\n\t\treturn Object.assign(promise, { unsubscribe });\n\t}\n\t/** STANDARD PROMISE METHODS (but returning a SubscribedPromise) */\n\tthen(onfulfilled, onrejected) {\n\t\tconst subscribed = this.subscribe();\n\t\tconst { unsubscribe } = subscribed;\n\t\treturn Object.assign(subscribed.then(onfulfilled, onrejected), { unsubscribe });\n\t}\n\tcatch(onrejected) {\n\t\tconst subscribed = this.subscribe();\n\t\tconst { unsubscribe } = subscribed;\n\t\treturn Object.assign(subscribed.catch(onrejected), { unsubscribe });\n\t}\n\tfinally(onfinally) {\n\t\tconst subscribed = this.subscribe();\n\t\tconst { unsubscribe } = subscribed;\n\t\treturn Object.assign(subscribed.finally(onfinally), { unsubscribe });\n\t}\n\t/** Unpromise STATIC METHODS */\n\t/** Create or Retrieve the proxy Unpromise (a re-used Unpromise for the VM lifetime\n\t* of the provided Promise reference) */\n\tstatic proxy(promise) {\n\t\tconst cached = Unpromise.getSubscribablePromise(promise);\n\t\treturn typeof cached !== \"undefined\" ? cached : Unpromise.createSubscribablePromise(promise);\n\t}\n\t/** Create and store an Unpromise keyed by an original Promise. */\n\tstatic createSubscribablePromise(promise) {\n\t\tconst created = new Unpromise(promise);\n\t\tsubscribableCache.set(promise, created);\n\t\tsubscribableCache.set(created, created);\n\t\treturn created;\n\t}\n\t/** Retrieve a previously-created Unpromise keyed by an original Promise. */\n\tstatic getSubscribablePromise(promise) {\n\t\treturn subscribableCache.get(promise);\n\t}\n\t/** Promise STATIC METHODS */\n\t/** Lookup the Unpromise for this promise, and derive a SubscribedPromise from\n\t* it (that can be later unsubscribed to eliminate Memory leaks) */\n\tstatic resolve(value) {\n\t\tconst promise = typeof value === \"object\" && value !== null && \"then\" in value && typeof value.then === \"function\" ? value : Promise.resolve(value);\n\t\treturn Unpromise.proxy(promise).subscribe();\n\t}\n\tstatic async any(values) {\n\t\tconst valuesArray = Array.isArray(values) ? values : [...values];\n\t\tconst subscribedPromises = valuesArray.map(Unpromise.resolve);\n\t\ttry {\n\t\t\treturn await Promise.any(subscribedPromises);\n\t\t} finally {\n\t\t\tsubscribedPromises.forEach(({ unsubscribe }) => {\n\t\t\t\tunsubscribe();\n\t\t\t});\n\t\t}\n\t}\n\tstatic async race(values) {\n\t\tconst valuesArray = Array.isArray(values) ? values : [...values];\n\t\tconst subscribedPromises = valuesArray.map(Unpromise.resolve);\n\t\ttry {\n\t\t\treturn await Promise.race(subscribedPromises);\n\t\t} finally {\n\t\t\tsubscribedPromises.forEach(({ unsubscribe }) => {\n\t\t\t\tunsubscribe();\n\t\t\t});\n\t\t}\n\t}\n\t/** Create a race of SubscribedPromises that will fulfil to a single winning\n\t* Promise (in a 1-Tuple). Eliminates memory leaks from long-lived promises\n\t* accumulating .then() and .catch() subscribers. Allows simple logic to\n\t* consume the result, like...\n\t* ```ts\n\t* const [ winner ] = await Unpromise.race([ promiseA, promiseB ]);\n\t* if(winner === promiseB){\n\t*   const result = await promiseB;\n\t*   // do the thing\n\t* }\n\t* ```\n\t* */\n\tstatic async raceReferences(promises) {\n\t\tconst selfPromises = promises.map(resolveSelfTuple);\n\t\ttry {\n\t\t\treturn await Promise.race(selfPromises);\n\t\t} finally {\n\t\t\tfor (const promise of selfPromises) promise.unsubscribe();\n\t\t}\n\t}\n};\n/** Promises a 1-tuple containing the original promise when it resolves. Allows\n* awaiting the eventual Promise ***reference*** (easy to destructure and\n* exactly compare with ===). Avoids resolving to the Promise ***value*** (which\n* may be ambiguous and therefore hard to identify as the winner of a race).\n* You can call unsubscribe on the Promise to mitigate memory leaks.\n* */\nfunction resolveSelfTuple(promise) {\n\treturn Unpromise.proxy(promise).then(() => [promise]);\n}\n/** VENDORED (Future) PROMISE UTILITIES */\n/** Reference implementation of https://github.com/tc39/proposal-promise-with-resolvers */\nfunction withResolvers() {\n\tlet resolve;\n\tlet reject;\n\tconst promise = new Promise((_resolve, _reject) => {\n\t\tresolve = _resolve;\n\t\treject = _reject;\n\t});\n\treturn {\n\t\tpromise,\n\t\tresolve,\n\t\treject\n\t};\n}\n/** IMMUTABLE LIST OPERATIONS */\nfunction listWithMember(arr, member) {\n\treturn [...arr, member];\n}\nfunction listWithoutIndex(arr, index) {\n\treturn [...arr.slice(0, index), ...arr.slice(index + 1)];\n}\nfunction listWithoutMember(arr, member) {\n\tconst index = arr.indexOf(member);\n\tif (index !== -1) return listWithoutIndex(arr, index);\n\treturn arr;\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/disposable.ts\nvar _Symbol, _Symbol$dispose, _Symbol2, _Symbol2$asyncDispose;\n(_Symbol$dispose = (_Symbol = Symbol).dispose) !== null && _Symbol$dispose !== void 0 || (_Symbol.dispose = Symbol());\n(_Symbol2$asyncDispose = (_Symbol2 = Symbol).asyncDispose) !== null && _Symbol2$asyncDispose !== void 0 || (_Symbol2.asyncDispose = Symbol());\n/**\n* Takes a value and a dispose function and returns a new object that implements the Disposable interface.\n* The returned object is the original value augmented with a Symbol.dispose method.\n* @param thing The value to make disposable\n* @param dispose Function to call when disposing the resource\n* @returns The original value with Symbol.dispose method added\n*/\nfunction makeResource(thing, dispose) {\n\tconst it = thing;\n\tconst existing = it[Symbol.dispose];\n\tit[Symbol.dispose] = () => {\n\t\tdispose();\n\t\texisting === null || existing === void 0 || existing();\n\t};\n\treturn it;\n}\n/**\n* Takes a value and an async dispose function and returns a new object that implements the AsyncDisposable interface.\n* The returned object is the original value augmented with a Symbol.asyncDispose method.\n* @param thing The value to make async disposable\n* @param dispose Async function to call when disposing the resource\n* @returns The original value with Symbol.asyncDispose method added\n*/\nfunction makeAsyncResource(thing, dispose) {\n\tconst it = thing;\n\tconst existing = it[Symbol.asyncDispose];\n\tit[Symbol.asyncDispose] = async () => {\n\t\tawait dispose();\n\t\tawait (existing === null || existing === void 0 ? void 0 : existing());\n\t};\n\treturn it;\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/timerResource.ts\nconst disposablePromiseTimerResult = Symbol();\nfunction timerResource(ms) {\n\tlet timer = null;\n\treturn makeResource({ start() {\n\t\tif (timer) throw new Error(\"Timer already started\");\n\t\tconst promise = new Promise((resolve) => {\n\t\t\ttimer = setTimeout(() => resolve(disposablePromiseTimerResult), ms);\n\t\t});\n\t\treturn promise;\n\t} }, () => {\n\t\tif (timer) clearTimeout(timer);\n\t});\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js\nvar require_usingCtx = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js\"(exports, module) {\n\tfunction _usingCtx() {\n\t\tvar r = \"function\" == typeof SuppressedError ? SuppressedError : function(r$1, e$1) {\n\t\t\tvar n$1 = Error();\n\t\t\treturn n$1.name = \"SuppressedError\", n$1.error = r$1, n$1.suppressed = e$1, n$1;\n\t\t}, e = {}, n = [];\n\t\tfunction using(r$1, e$1) {\n\t\t\tif (null != e$1) {\n\t\t\t\tif (Object(e$1) !== e$1) throw new TypeError(\"using declarations can only be used with objects, functions, null, or undefined.\");\n\t\t\t\tif (r$1) var o = e$1[Symbol.asyncDispose || Symbol[\"for\"](\"Symbol.asyncDispose\")];\n\t\t\t\tif (void 0 === o && (o = e$1[Symbol.dispose || Symbol[\"for\"](\"Symbol.dispose\")], r$1)) var t = o;\n\t\t\t\tif (\"function\" != typeof o) throw new TypeError(\"Object is not disposable.\");\n\t\t\t\tt && (o = function o$1() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt.call(e$1);\n\t\t\t\t\t} catch (r$2) {\n\t\t\t\t\t\treturn Promise.reject(r$2);\n\t\t\t\t\t}\n\t\t\t\t}), n.push({\n\t\t\t\t\tv: e$1,\n\t\t\t\t\td: o,\n\t\t\t\t\ta: r$1\n\t\t\t\t});\n\t\t\t} else r$1 && n.push({\n\t\t\t\td: e$1,\n\t\t\t\ta: r$1\n\t\t\t});\n\t\t\treturn e$1;\n\t\t}\n\t\treturn {\n\t\t\te,\n\t\t\tu: using.bind(null, !1),\n\t\t\ta: using.bind(null, !0),\n\t\t\td: function d() {\n\t\t\t\tvar o, t = this.e, s = 0;\n\t\t\t\tfunction next() {\n\t\t\t\t\tfor (; o = n.pop();) try {\n\t\t\t\t\t\tif (!o.a && 1 === s) return s = 0, n.push(o), Promise.resolve().then(next);\n\t\t\t\t\t\tif (o.d) {\n\t\t\t\t\t\t\tvar r$1 = o.d.call(o.v);\n\t\t\t\t\t\t\tif (o.a) return s |= 2, Promise.resolve(r$1).then(next, err);\n\t\t\t\t\t\t} else s |= 1;\n\t\t\t\t\t} catch (r$2) {\n\t\t\t\t\t\treturn err(r$2);\n\t\t\t\t\t}\n\t\t\t\t\tif (1 === s) return t !== e ? Promise.reject(t) : Promise.resolve();\n\t\t\t\t\tif (t !== e) throw t;\n\t\t\t\t}\n\t\t\t\tfunction err(n$1) {\n\t\t\t\t\treturn t = t !== e ? new r(n$1, t) : n$1, next();\n\t\t\t\t}\n\t\t\t\treturn next();\n\t\t\t}\n\t\t};\n\t}\n\tmodule.exports = _usingCtx, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js\nvar require_OverloadYield = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js\"(exports, module) {\n\tfunction _OverloadYield(e, d) {\n\t\tthis.v = e, this.k = d;\n\t}\n\tmodule.exports = _OverloadYield, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js\nvar require_awaitAsyncGenerator = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js\"(exports, module) {\n\tvar OverloadYield$2 = require_OverloadYield();\n\tfunction _awaitAsyncGenerator$5(e) {\n\t\treturn new OverloadYield$2(e, 0);\n\t}\n\tmodule.exports = _awaitAsyncGenerator$5, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js\nvar require_wrapAsyncGenerator = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js\"(exports, module) {\n\tvar OverloadYield$1 = require_OverloadYield();\n\tfunction _wrapAsyncGenerator$6(e) {\n\t\treturn function() {\n\t\t\treturn new AsyncGenerator(e.apply(this, arguments));\n\t\t};\n\t}\n\tfunction AsyncGenerator(e) {\n\t\tvar r, t;\n\t\tfunction resume(r$1, t$1) {\n\t\t\ttry {\n\t\t\t\tvar n = e[r$1](t$1), o = n.value, u = o instanceof OverloadYield$1;\n\t\t\t\tPromise.resolve(u ? o.v : o).then(function(t$2) {\n\t\t\t\t\tif (u) {\n\t\t\t\t\t\tvar i = \"return\" === r$1 ? \"return\" : \"next\";\n\t\t\t\t\t\tif (!o.k || t$2.done) return resume(i, t$2);\n\t\t\t\t\t\tt$2 = e[i](t$2).value;\n\t\t\t\t\t}\n\t\t\t\t\tsettle(n.done ? \"return\" : \"normal\", t$2);\n\t\t\t\t}, function(e$1) {\n\t\t\t\t\tresume(\"throw\", e$1);\n\t\t\t\t});\n\t\t\t} catch (e$1) {\n\t\t\t\tsettle(\"throw\", e$1);\n\t\t\t}\n\t\t}\n\t\tfunction settle(e$1, n) {\n\t\t\tswitch (e$1) {\n\t\t\t\tcase \"return\":\n\t\t\t\t\tr.resolve({\n\t\t\t\t\t\tvalue: n,\n\t\t\t\t\t\tdone: !0\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"throw\":\n\t\t\t\t\tr.reject(n);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault: r.resolve({\n\t\t\t\t\tvalue: n,\n\t\t\t\t\tdone: !1\n\t\t\t\t});\n\t\t\t}\n\t\t\t(r = r.next) ? resume(r.key, r.arg) : t = null;\n\t\t}\n\t\tthis._invoke = function(e$1, n) {\n\t\t\treturn new Promise(function(o, u) {\n\t\t\t\tvar i = {\n\t\t\t\t\tkey: e$1,\n\t\t\t\t\targ: n,\n\t\t\t\t\tresolve: o,\n\t\t\t\t\treject: u,\n\t\t\t\t\tnext: null\n\t\t\t\t};\n\t\t\t\tt ? t = t.next = i : (r = t = i, resume(e$1, n));\n\t\t\t});\n\t\t}, \"function\" != typeof e[\"return\"] && (this[\"return\"] = void 0);\n\t}\n\tAsyncGenerator.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function() {\n\t\treturn this;\n\t}, AsyncGenerator.prototype.next = function(e) {\n\t\treturn this._invoke(\"next\", e);\n\t}, AsyncGenerator.prototype[\"throw\"] = function(e) {\n\t\treturn this._invoke(\"throw\", e);\n\t}, AsyncGenerator.prototype[\"return\"] = function(e) {\n\t\treturn this._invoke(\"return\", e);\n\t};\n\tmodule.exports = _wrapAsyncGenerator$6, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/asyncIterable.ts\nvar import_usingCtx$4 = __toESM(require_usingCtx(), 1);\nvar import_awaitAsyncGenerator$4 = __toESM(require_awaitAsyncGenerator(), 1);\nvar import_wrapAsyncGenerator$5 = __toESM(require_wrapAsyncGenerator(), 1);\nfunction iteratorResource(iterable) {\n\tconst iterator = iterable[Symbol.asyncIterator]();\n\tif (iterator[Symbol.asyncDispose]) return iterator;\n\treturn makeAsyncResource(iterator, async () => {\n\t\tvar _iterator$return;\n\t\tawait ((_iterator$return = iterator.return) === null || _iterator$return === void 0 ? void 0 : _iterator$return.call(iterator));\n\t});\n}\n/**\n* Derives a new {@link AsyncGenerator} based on {@link iterable}, that automatically aborts after the specified duration.\n*/\nfunction withMaxDuration(_x, _x2) {\n\treturn _withMaxDuration.apply(this, arguments);\n}\nfunction _withMaxDuration() {\n\t_withMaxDuration = (0, import_wrapAsyncGenerator$5.default)(function* (iterable, opts) {\n\t\ttry {\n\t\t\tvar _usingCtx$1 = (0, import_usingCtx$4.default)();\n\t\t\tconst iterator = _usingCtx$1.a(iteratorResource(iterable));\n\t\t\tconst timer = _usingCtx$1.u(timerResource(opts.maxDurationMs));\n\t\t\tconst timerPromise = timer.start();\n\t\t\tlet result;\n\t\t\twhile (true) {\n\t\t\t\tresult = yield (0, import_awaitAsyncGenerator$4.default)(Unpromise.race([iterator.next(), timerPromise]));\n\t\t\t\tif (result === disposablePromiseTimerResult) throwAbortError();\n\t\t\t\tif (result.done) return result;\n\t\t\t\tyield result.value;\n\t\t\t\tresult = null;\n\t\t\t}\n\t\t} catch (_) {\n\t\t\t_usingCtx$1.e = _;\n\t\t} finally {\n\t\t\tyield (0, import_awaitAsyncGenerator$4.default)(_usingCtx$1.d());\n\t\t}\n\t});\n\treturn _withMaxDuration.apply(this, arguments);\n}\n/**\n* Derives a new {@link AsyncGenerator} based of {@link iterable}, that yields its first\n* {@link count} values. Then, a grace period of {@link gracePeriodMs} is started in which further\n* values may still come through. After this period, the generator aborts.\n*/\nfunction takeWithGrace(_x3, _x4) {\n\treturn _takeWithGrace.apply(this, arguments);\n}\nfunction _takeWithGrace() {\n\t_takeWithGrace = (0, import_wrapAsyncGenerator$5.default)(function* (iterable, opts) {\n\t\ttry {\n\t\t\tvar _usingCtx3 = (0, import_usingCtx$4.default)();\n\t\t\tconst iterator = _usingCtx3.a(iteratorResource(iterable));\n\t\t\tlet result;\n\t\t\tconst timer = _usingCtx3.u(timerResource(opts.gracePeriodMs));\n\t\t\tlet count = opts.count;\n\t\t\tlet timerPromise = new Promise(() => {});\n\t\t\twhile (true) {\n\t\t\t\tresult = yield (0, import_awaitAsyncGenerator$4.default)(Unpromise.race([iterator.next(), timerPromise]));\n\t\t\t\tif (result === disposablePromiseTimerResult) throwAbortError();\n\t\t\t\tif (result.done) return result.value;\n\t\t\t\tyield result.value;\n\t\t\t\tif (--count === 0) timerPromise = timer.start();\n\t\t\t\tresult = null;\n\t\t\t}\n\t\t} catch (_) {\n\t\t\t_usingCtx3.e = _;\n\t\t} finally {\n\t\t\tyield (0, import_awaitAsyncGenerator$4.default)(_usingCtx3.d());\n\t\t}\n\t});\n\treturn _takeWithGrace.apply(this, arguments);\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/createDeferred.ts\nfunction createDeferred() {\n\tlet resolve;\n\tlet reject;\n\tconst promise = new Promise((res, rej) => {\n\t\tresolve = res;\n\t\treject = rej;\n\t});\n\treturn {\n\t\tpromise,\n\t\tresolve,\n\t\treject\n\t};\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/mergeAsyncIterables.ts\nvar import_usingCtx$3 = __toESM(require_usingCtx(), 1);\nvar import_awaitAsyncGenerator$3 = __toESM(require_awaitAsyncGenerator(), 1);\nvar import_wrapAsyncGenerator$4 = __toESM(require_wrapAsyncGenerator(), 1);\nfunction createManagedIterator(iterable, onResult) {\n\tconst iterator = iterable[Symbol.asyncIterator]();\n\tlet state = \"idle\";\n\tfunction cleanup() {\n\t\tstate = \"done\";\n\t\tonResult = () => {};\n\t}\n\tfunction pull() {\n\t\tif (state !== \"idle\") return;\n\t\tstate = \"pending\";\n\t\tconst next = iterator.next();\n\t\tnext.then((result) => {\n\t\t\tif (result.done) {\n\t\t\t\tstate = \"done\";\n\t\t\t\tonResult({\n\t\t\t\t\tstatus: \"return\",\n\t\t\t\t\tvalue: result.value\n\t\t\t\t});\n\t\t\t\tcleanup();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstate = \"idle\";\n\t\t\tonResult({\n\t\t\t\tstatus: \"yield\",\n\t\t\t\tvalue: result.value\n\t\t\t});\n\t\t}).catch((cause) => {\n\t\t\tonResult({\n\t\t\t\tstatus: \"error\",\n\t\t\t\terror: cause\n\t\t\t});\n\t\t\tcleanup();\n\t\t});\n\t}\n\treturn {\n\t\tpull,\n\t\tdestroy: async () => {\n\t\t\tvar _iterator$return;\n\t\t\tcleanup();\n\t\t\tawait ((_iterator$return = iterator.return) === null || _iterator$return === void 0 ? void 0 : _iterator$return.call(iterator));\n\t\t}\n\t};\n}\n/**\n* Creates a new async iterable that merges multiple async iterables into a single stream.\n* Values from the input iterables are yielded in the order they resolve, similar to Promise.race().\n*\n* New iterables can be added dynamically using the returned {@link MergedAsyncIterables.add} method, even after iteration has started.\n*\n* If any of the input iterables throws an error, that error will be propagated through the merged stream.\n* Other iterables will not continue to be processed.\n*\n* @template TYield The type of values yielded by the input iterables\n*/\nfunction mergeAsyncIterables() {\n\tlet state = \"idle\";\n\tlet flushSignal = createDeferred();\n\t/**\n\t* used while {@link state} is `idle`\n\t*/\n\tconst iterables = [];\n\t/**\n\t* used while {@link state} is `pending`\n\t*/\n\tconst iterators = /* @__PURE__ */ new Set();\n\tconst buffer = [];\n\tfunction initIterable(iterable) {\n\t\tif (state !== \"pending\") return;\n\t\tconst iterator = createManagedIterator(iterable, (result) => {\n\t\t\tif (state !== \"pending\") return;\n\t\t\tswitch (result.status) {\n\t\t\t\tcase \"yield\":\n\t\t\t\t\tbuffer.push([iterator, result]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"return\":\n\t\t\t\t\titerators.delete(iterator);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"error\":\n\t\t\t\t\tbuffer.push([iterator, result]);\n\t\t\t\t\titerators.delete(iterator);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tflushSignal.resolve();\n\t\t});\n\t\titerators.add(iterator);\n\t\titerator.pull();\n\t}\n\treturn {\n\t\tadd(iterable) {\n\t\t\tswitch (state) {\n\t\t\t\tcase \"idle\":\n\t\t\t\t\titerables.push(iterable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"pending\":\n\t\t\t\t\tinitIterable(iterable);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"done\": break;\n\t\t\t}\n\t\t},\n\t\t[Symbol.asyncIterator]() {\n\t\t\treturn (0, import_wrapAsyncGenerator$4.default)(function* () {\n\t\t\t\ttry {\n\t\t\t\t\tvar _usingCtx$1 = (0, import_usingCtx$3.default)();\n\t\t\t\t\tif (state !== \"idle\") throw new Error(\"Cannot iterate twice\");\n\t\t\t\t\tstate = \"pending\";\n\t\t\t\t\tconst _finally = _usingCtx$1.a(makeAsyncResource({}, async () => {\n\t\t\t\t\t\tstate = \"done\";\n\t\t\t\t\t\tconst errors = [];\n\t\t\t\t\t\tawait Promise.all(Array.from(iterators.values()).map(async (it) => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait it.destroy();\n\t\t\t\t\t\t\t} catch (cause) {\n\t\t\t\t\t\t\t\terrors.push(cause);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tbuffer.length = 0;\n\t\t\t\t\t\titerators.clear();\n\t\t\t\t\t\tflushSignal.resolve();\n\t\t\t\t\t\tif (errors.length > 0) throw new AggregateError(errors);\n\t\t\t\t\t}));\n\t\t\t\t\twhile (iterables.length > 0) initIterable(iterables.shift());\n\t\t\t\t\twhile (iterators.size > 0) {\n\t\t\t\t\t\tyield (0, import_awaitAsyncGenerator$3.default)(flushSignal.promise);\n\t\t\t\t\t\twhile (buffer.length > 0) {\n\t\t\t\t\t\t\tconst [iterator, result] = buffer.shift();\n\t\t\t\t\t\t\tswitch (result.status) {\n\t\t\t\t\t\t\t\tcase \"yield\":\n\t\t\t\t\t\t\t\t\tyield result.value;\n\t\t\t\t\t\t\t\t\titerator.pull();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase \"error\": throw result.error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflushSignal = createDeferred();\n\t\t\t\t\t}\n\t\t\t\t} catch (_) {\n\t\t\t\t\t_usingCtx$1.e = _;\n\t\t\t\t} finally {\n\t\t\t\t\tyield (0, import_awaitAsyncGenerator$3.default)(_usingCtx$1.d());\n\t\t\t\t}\n\t\t\t})();\n\t\t}\n\t};\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/readableStreamFrom.ts\n/**\n* Creates a ReadableStream from an AsyncIterable.\n*\n* @param iterable - The source AsyncIterable to stream from\n* @returns A ReadableStream that yields values from the AsyncIterable\n*/\nfunction readableStreamFrom(iterable) {\n\tconst iterator = iterable[Symbol.asyncIterator]();\n\treturn new ReadableStream({\n\t\tasync cancel() {\n\t\t\tvar _iterator$return;\n\t\t\tawait ((_iterator$return = iterator.return) === null || _iterator$return === void 0 ? void 0 : _iterator$return.call(iterator));\n\t\t},\n\t\tasync pull(controller) {\n\t\t\tconst result = await iterator.next();\n\t\t\tif (result.done) {\n\t\t\t\tcontroller.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontroller.enqueue(result.value);\n\t\t}\n\t});\n}\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/utils/withPing.ts\nvar import_usingCtx$2 = __toESM(require_usingCtx(), 1);\nvar import_awaitAsyncGenerator$2 = __toESM(require_awaitAsyncGenerator(), 1);\nvar import_wrapAsyncGenerator$3 = __toESM(require_wrapAsyncGenerator(), 1);\nconst PING_SYM = Symbol(\"ping\");\n/**\n* Derives a new {@link AsyncGenerator} based of {@link iterable}, that yields {@link PING_SYM}\n* whenever no value has been yielded for {@link pingIntervalMs}.\n*/\nfunction withPing(_x, _x2) {\n\treturn _withPing.apply(this, arguments);\n}\nfunction _withPing() {\n\t_withPing = (0, import_wrapAsyncGenerator$3.default)(function* (iterable, pingIntervalMs) {\n\t\ttry {\n\t\t\tvar _usingCtx$1 = (0, import_usingCtx$2.default)();\n\t\t\tconst iterator = _usingCtx$1.a(iteratorResource(iterable));\n\t\t\tlet result;\n\t\t\tlet nextPromise = iterator.next();\n\t\t\twhile (true) try {\n\t\t\t\tvar _usingCtx3 = (0, import_usingCtx$2.default)();\n\t\t\t\tconst pingPromise = _usingCtx3.u(timerResource(pingIntervalMs));\n\t\t\t\tresult = yield (0, import_awaitAsyncGenerator$2.default)(Unpromise.race([nextPromise, pingPromise.start()]));\n\t\t\t\tif (result === disposablePromiseTimerResult) {\n\t\t\t\t\tyield PING_SYM;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (result.done) return result.value;\n\t\t\t\tnextPromise = iterator.next();\n\t\t\t\tyield result.value;\n\t\t\t\tresult = null;\n\t\t\t} catch (_) {\n\t\t\t\t_usingCtx3.e = _;\n\t\t\t} finally {\n\t\t\t\t_usingCtx3.d();\n\t\t\t}\n\t\t} catch (_) {\n\t\t\t_usingCtx$1.e = _;\n\t\t} finally {\n\t\t\tyield (0, import_awaitAsyncGenerator$2.default)(_usingCtx$1.d());\n\t\t}\n\t});\n\treturn _withPing.apply(this, arguments);\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js\nvar require_asyncIterator = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js\"(exports, module) {\n\tfunction _asyncIterator$2(r) {\n\t\tvar n, t, o, e = 2;\n\t\tfor (\"undefined\" != typeof Symbol && (t = Symbol.asyncIterator, o = Symbol.iterator); e--;) {\n\t\t\tif (t && null != (n = r[t])) return n.call(r);\n\t\t\tif (o && null != (n = r[o])) return new AsyncFromSyncIterator(n.call(r));\n\t\t\tt = \"@@asyncIterator\", o = \"@@iterator\";\n\t\t}\n\t\tthrow new TypeError(\"Object is not async iterable\");\n\t}\n\tfunction AsyncFromSyncIterator(r) {\n\t\tfunction AsyncFromSyncIteratorContinuation(r$1) {\n\t\t\tif (Object(r$1) !== r$1) return Promise.reject(new TypeError(r$1 + \" is not an object.\"));\n\t\t\tvar n = r$1.done;\n\t\t\treturn Promise.resolve(r$1.value).then(function(r$2) {\n\t\t\t\treturn {\n\t\t\t\t\tvalue: r$2,\n\t\t\t\t\tdone: n\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\treturn AsyncFromSyncIterator = function AsyncFromSyncIterator$1(r$1) {\n\t\t\tthis.s = r$1, this.n = r$1.next;\n\t\t}, AsyncFromSyncIterator.prototype = {\n\t\t\ts: null,\n\t\t\tn: null,\n\t\t\tnext: function next() {\n\t\t\t\treturn AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n\t\t\t},\n\t\t\t\"return\": function _return(r$1) {\n\t\t\t\tvar n = this.s[\"return\"];\n\t\t\t\treturn void 0 === n ? Promise.resolve({\n\t\t\t\t\tvalue: r$1,\n\t\t\t\t\tdone: !0\n\t\t\t\t}) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n\t\t\t},\n\t\t\t\"throw\": function _throw(r$1) {\n\t\t\t\tvar n = this.s[\"return\"];\n\t\t\t\treturn void 0 === n ? Promise.reject(r$1) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n\t\t\t}\n\t\t}, new AsyncFromSyncIterator(r);\n\t}\n\tmodule.exports = _asyncIterator$2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/jsonl.ts\nvar import_awaitAsyncGenerator$1 = __toESM(require_awaitAsyncGenerator(), 1);\nvar import_wrapAsyncGenerator$2 = __toESM(require_wrapAsyncGenerator(), 1);\nvar import_usingCtx$1 = __toESM(require_usingCtx(), 1);\nvar import_asyncIterator$1 = __toESM(require_asyncIterator(), 1);\nfunction isPlainObject(value) {\n\treturn Object.prototype.toString.call(value) === \"[object Object]\";\n}\nconst CHUNK_VALUE_TYPE_PROMISE = 0;\nconst CHUNK_VALUE_TYPE_ASYNC_ITERABLE = 1;\nconst PROMISE_STATUS_FULFILLED = 0;\nconst PROMISE_STATUS_REJECTED = 1;\nconst ASYNC_ITERABLE_STATUS_RETURN = 0;\nconst ASYNC_ITERABLE_STATUS_YIELD = 1;\nconst ASYNC_ITERABLE_STATUS_ERROR = 2;\nfunction isPromise(value) {\n\treturn (isObject(value) || isFunction(value)) && typeof (value === null || value === void 0 ? void 0 : value[\"then\"]) === \"function\" && typeof (value === null || value === void 0 ? void 0 : value[\"catch\"]) === \"function\";\n}\nvar MaxDepthError = class extends Error {\n\tconstructor(path) {\n\t\tsuper(\"Max depth reached at path: \" + path.join(\".\"));\n\t\tthis.path = path;\n\t}\n};\nfunction createBatchStreamProducer(_x3) {\n\treturn _createBatchStreamProducer.apply(this, arguments);\n}\nfunction _createBatchStreamProducer() {\n\t_createBatchStreamProducer = (0, import_wrapAsyncGenerator$2.default)(function* (opts) {\n\t\tconst { data } = opts;\n\t\tlet counter = 0;\n\t\tconst placeholder = 0;\n\t\tconst mergedIterables = mergeAsyncIterables();\n\t\tfunction registerAsync(callback) {\n\t\t\tconst idx = counter++;\n\t\t\tconst iterable$1 = callback(idx);\n\t\t\tmergedIterables.add(iterable$1);\n\t\t\treturn idx;\n\t\t}\n\t\tfunction encodePromise(promise, path) {\n\t\t\treturn registerAsync(/* @__PURE__ */ function() {\n\t\t\t\tvar _ref = (0, import_wrapAsyncGenerator$2.default)(function* (idx) {\n\t\t\t\t\tconst error = checkMaxDepth(path);\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tpromise.catch((cause) => {\n\t\t\t\t\t\t\tvar _opts$onError;\n\t\t\t\t\t\t\t(_opts$onError = opts.onError) === null || _opts$onError === void 0 || _opts$onError.call(opts, {\n\t\t\t\t\t\t\t\terror: cause,\n\t\t\t\t\t\t\t\tpath\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tpromise = Promise.reject(error);\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst next = yield (0, import_awaitAsyncGenerator$1.default)(promise);\n\t\t\t\t\t\tyield [\n\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\tPROMISE_STATUS_FULFILLED,\n\t\t\t\t\t\t\tencode(next, path)\n\t\t\t\t\t\t];\n\t\t\t\t\t} catch (cause) {\n\t\t\t\t\t\tvar _opts$onError2, _opts$formatError;\n\t\t\t\t\t\t(_opts$onError2 = opts.onError) === null || _opts$onError2 === void 0 || _opts$onError2.call(opts, {\n\t\t\t\t\t\t\terror: cause,\n\t\t\t\t\t\t\tpath\n\t\t\t\t\t\t});\n\t\t\t\t\t\tyield [\n\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\tPROMISE_STATUS_REJECTED,\n\t\t\t\t\t\t\t(_opts$formatError = opts.formatError) === null || _opts$formatError === void 0 ? void 0 : _opts$formatError.call(opts, {\n\t\t\t\t\t\t\t\terror: cause,\n\t\t\t\t\t\t\t\tpath\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn function(_x) {\n\t\t\t\t\treturn _ref.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}());\n\t\t}\n\t\tfunction encodeAsyncIterable(iterable$1, path) {\n\t\t\treturn registerAsync(/* @__PURE__ */ function() {\n\t\t\t\tvar _ref2 = (0, import_wrapAsyncGenerator$2.default)(function* (idx) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar _usingCtx$1 = (0, import_usingCtx$1.default)();\n\t\t\t\t\t\tconst error = checkMaxDepth(path);\n\t\t\t\t\t\tif (error) throw error;\n\t\t\t\t\t\tconst iterator = _usingCtx$1.a(iteratorResource(iterable$1));\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\t\tconst next = yield (0, import_awaitAsyncGenerator$1.default)(iterator.next());\n\t\t\t\t\t\t\t\tif (next.done) {\n\t\t\t\t\t\t\t\t\tyield [\n\t\t\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\t\t\tASYNC_ITERABLE_STATUS_RETURN,\n\t\t\t\t\t\t\t\t\t\tencode(next.value, path)\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tyield [\n\t\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\t\tASYNC_ITERABLE_STATUS_YIELD,\n\t\t\t\t\t\t\t\t\tencode(next.value, path)\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (cause) {\n\t\t\t\t\t\t\tvar _opts$onError3, _opts$formatError2;\n\t\t\t\t\t\t\t(_opts$onError3 = opts.onError) === null || _opts$onError3 === void 0 || _opts$onError3.call(opts, {\n\t\t\t\t\t\t\t\terror: cause,\n\t\t\t\t\t\t\t\tpath\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tyield [\n\t\t\t\t\t\t\t\tidx,\n\t\t\t\t\t\t\t\tASYNC_ITERABLE_STATUS_ERROR,\n\t\t\t\t\t\t\t\t(_opts$formatError2 = opts.formatError) === null || _opts$formatError2 === void 0 ? void 0 : _opts$formatError2.call(opts, {\n\t\t\t\t\t\t\t\t\terror: cause,\n\t\t\t\t\t\t\t\t\tpath\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (_) {\n\t\t\t\t\t\t_usingCtx$1.e = _;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tyield (0, import_awaitAsyncGenerator$1.default)(_usingCtx$1.d());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn function(_x2) {\n\t\t\t\t\treturn _ref2.apply(this, arguments);\n\t\t\t\t};\n\t\t\t}());\n\t\t}\n\t\tfunction checkMaxDepth(path) {\n\t\t\tif (opts.maxDepth && path.length > opts.maxDepth) return new MaxDepthError(path);\n\t\t\treturn null;\n\t\t}\n\t\tfunction encodeAsync(value, path) {\n\t\t\tif (isPromise(value)) return [CHUNK_VALUE_TYPE_PROMISE, encodePromise(value, path)];\n\t\t\tif (isAsyncIterable(value)) {\n\t\t\t\tif (opts.maxDepth && path.length >= opts.maxDepth) throw new Error(\"Max depth reached\");\n\t\t\t\treturn [CHUNK_VALUE_TYPE_ASYNC_ITERABLE, encodeAsyncIterable(value, path)];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfunction encode(value, path) {\n\t\t\tif (value === void 0) return [[]];\n\t\t\tconst reg = encodeAsync(value, path);\n\t\t\tif (reg) return [[placeholder], [null, ...reg]];\n\t\t\tif (!isPlainObject(value)) return [[value]];\n\t\t\tconst newObj = {};\n\t\t\tconst asyncValues = [];\n\t\t\tfor (const [key, item] of Object.entries(value)) {\n\t\t\t\tconst transformed = encodeAsync(item, [...path, key]);\n\t\t\t\tif (!transformed) {\n\t\t\t\t\tnewObj[key] = item;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tnewObj[key] = placeholder;\n\t\t\t\tasyncValues.push([key, ...transformed]);\n\t\t\t}\n\t\t\treturn [[newObj], ...asyncValues];\n\t\t}\n\t\tconst newHead = {};\n\t\tfor (const [key, item] of Object.entries(data)) newHead[key] = encode(item, [key]);\n\t\tyield newHead;\n\t\tlet iterable = mergedIterables;\n\t\tif (opts.pingMs) iterable = withPing(mergedIterables, opts.pingMs);\n\t\tvar _iteratorAbruptCompletion = false;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError;\n\t\ttry {\n\t\t\tfor (var _iterator = (0, import_asyncIterator$1.default)(iterable), _step; _iteratorAbruptCompletion = !(_step = yield (0, import_awaitAsyncGenerator$1.default)(_iterator.next())).done; _iteratorAbruptCompletion = false) {\n\t\t\t\tconst value = _step.value;\n\t\t\t\tyield value;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (_iteratorAbruptCompletion && _iterator.return != null) yield (0, import_awaitAsyncGenerator$1.default)(_iterator.return());\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) throw _iteratorError;\n\t\t\t}\n\t\t}\n\t});\n\treturn _createBatchStreamProducer.apply(this, arguments);\n}\n/**\n* JSON Lines stream producer\n* @see https://jsonlines.org/\n*/\nfunction jsonlStreamProducer(opts) {\n\tlet stream = readableStreamFrom(createBatchStreamProducer(opts));\n\tconst { serialize } = opts;\n\tif (serialize) stream = stream.pipeThrough(new TransformStream({ transform(chunk, controller) {\n\t\tif (chunk === PING_SYM) controller.enqueue(PING_SYM);\n\t\telse controller.enqueue(serialize(chunk));\n\t} }));\n\treturn stream.pipeThrough(new TransformStream({ transform(chunk, controller) {\n\t\tif (chunk === PING_SYM) controller.enqueue(\" \");\n\t\telse controller.enqueue(JSON.stringify(chunk) + \"\\n\");\n\t} })).pipeThrough(new TextEncoderStream());\n}\nvar AsyncError = class extends Error {\n\tconstructor(data) {\n\t\tsuper(\"Received error from server\");\n\t\tthis.data = data;\n\t}\n};\nconst nodeJsStreamToReaderEsque = (source) => {\n\treturn { getReader() {\n\t\tconst stream = new ReadableStream({ start(controller) {\n\t\t\tsource.on(\"data\", (chunk) => {\n\t\t\t\tcontroller.enqueue(chunk);\n\t\t\t});\n\t\t\tsource.on(\"end\", () => {\n\t\t\t\tcontroller.close();\n\t\t\t});\n\t\t\tsource.on(\"error\", (error) => {\n\t\t\t\tcontroller.error(error);\n\t\t\t});\n\t\t} });\n\t\treturn stream.getReader();\n\t} };\n};\nfunction createLineAccumulator(from) {\n\tconst reader = \"getReader\" in from ? from.getReader() : nodeJsStreamToReaderEsque(from).getReader();\n\tlet lineAggregate = \"\";\n\treturn new ReadableStream({\n\t\tasync pull(controller) {\n\t\t\tconst { done, value } = await reader.read();\n\t\t\tif (done) controller.close();\n\t\t\telse controller.enqueue(value);\n\t\t},\n\t\tcancel() {\n\t\t\treturn reader.cancel();\n\t\t}\n\t}).pipeThrough(new TextDecoderStream()).pipeThrough(new TransformStream({ transform(chunk, controller) {\n\t\tvar _parts$pop;\n\t\tlineAggregate += chunk;\n\t\tconst parts = lineAggregate.split(\"\\n\");\n\t\tlineAggregate = (_parts$pop = parts.pop()) !== null && _parts$pop !== void 0 ? _parts$pop : \"\";\n\t\tfor (const part of parts) controller.enqueue(part);\n\t} }));\n}\nfunction createConsumerStream(from) {\n\tconst stream = createLineAccumulator(from);\n\tlet sentHead = false;\n\treturn stream.pipeThrough(new TransformStream({ transform(line, controller) {\n\t\tif (!sentHead) {\n\t\t\tconst head = JSON.parse(line);\n\t\t\tcontroller.enqueue(head);\n\t\t\tsentHead = true;\n\t\t} else {\n\t\t\tconst chunk = JSON.parse(line);\n\t\t\tcontroller.enqueue(chunk);\n\t\t}\n\t} }));\n}\n/**\n* Creates a handler for managing stream controllers and their lifecycle\n*/\nfunction createStreamsManager(abortController) {\n\tconst controllerMap = /* @__PURE__ */ new Map();\n\t/**\n\t* Checks if there are no pending controllers or deferred promises\n\t*/\n\tfunction isEmpty() {\n\t\treturn Array.from(controllerMap.values()).every((c) => c.closed);\n\t}\n\t/**\n\t* Creates a stream controller\n\t*/\n\tfunction createStreamController() {\n\t\tlet originalController;\n\t\tconst stream = new ReadableStream({ start(controller) {\n\t\t\toriginalController = controller;\n\t\t} });\n\t\tconst streamController = {\n\t\t\tenqueue: (v) => originalController.enqueue(v),\n\t\t\tclose: () => {\n\t\t\t\toriginalController.close();\n\t\t\t\tclear();\n\t\t\t\tif (isEmpty()) abortController.abort();\n\t\t\t},\n\t\t\tclosed: false,\n\t\t\tgetReaderResource: () => {\n\t\t\t\tconst reader = stream.getReader();\n\t\t\t\treturn makeResource(reader, () => {\n\t\t\t\t\treader.releaseLock();\n\t\t\t\t\tstreamController.close();\n\t\t\t\t});\n\t\t\t},\n\t\t\terror: (reason) => {\n\t\t\t\toriginalController.error(reason);\n\t\t\t\tclear();\n\t\t\t}\n\t\t};\n\t\tfunction clear() {\n\t\t\tObject.assign(streamController, {\n\t\t\t\tclosed: true,\n\t\t\t\tclose: () => {},\n\t\t\t\tenqueue: () => {},\n\t\t\t\tgetReaderResource: null,\n\t\t\t\terror: () => {}\n\t\t\t});\n\t\t}\n\t\treturn streamController;\n\t}\n\t/**\n\t* Gets or creates a stream controller\n\t*/\n\tfunction getOrCreate(chunkId) {\n\t\tlet c = controllerMap.get(chunkId);\n\t\tif (!c) {\n\t\t\tc = createStreamController();\n\t\t\tcontrollerMap.set(chunkId, c);\n\t\t}\n\t\treturn c;\n\t}\n\t/**\n\t* Cancels all pending controllers and rejects deferred promises\n\t*/\n\tfunction cancelAll(reason) {\n\t\tfor (const controller of controllerMap.values()) controller.error(reason);\n\t}\n\treturn {\n\t\tgetOrCreate,\n\t\tisEmpty,\n\t\tcancelAll\n\t};\n}\n/**\n* JSON Lines stream consumer\n* @see https://jsonlines.org/\n*/\nasync function jsonlStreamConsumer(opts) {\n\tconst { deserialize = (v) => v } = opts;\n\tlet source = createConsumerStream(opts.from);\n\tif (deserialize) source = source.pipeThrough(new TransformStream({ transform(chunk, controller) {\n\t\tcontroller.enqueue(deserialize(chunk));\n\t} }));\n\tlet headDeferred = createDeferred();\n\tconst streamManager = createStreamsManager(opts.abortController);\n\tfunction decodeChunkDefinition(value) {\n\t\tconst [_path, type, chunkId] = value;\n\t\tconst controller = streamManager.getOrCreate(chunkId);\n\t\tswitch (type) {\n\t\t\tcase CHUNK_VALUE_TYPE_PROMISE: return run(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tvar _usingCtx3 = (0, import_usingCtx$1.default)();\n\t\t\t\t\tconst reader = _usingCtx3.u(controller.getReaderResource());\n\t\t\t\t\tconst { value: value$1 } = await reader.read();\n\t\t\t\t\tconst [_chunkId, status, data] = value$1;\n\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\tcase PROMISE_STATUS_FULFILLED: return decode(data);\n\t\t\t\t\t\tcase PROMISE_STATUS_REJECTED:\n\t\t\t\t\t\t\tvar _opts$formatError3, _opts$formatError4;\n\t\t\t\t\t\t\tthrow (_opts$formatError3 = (_opts$formatError4 = opts.formatError) === null || _opts$formatError4 === void 0 ? void 0 : _opts$formatError4.call(opts, { error: data })) !== null && _opts$formatError3 !== void 0 ? _opts$formatError3 : new AsyncError(data);\n\t\t\t\t\t}\n\t\t\t\t} catch (_) {\n\t\t\t\t\t_usingCtx3.e = _;\n\t\t\t\t} finally {\n\t\t\t\t\t_usingCtx3.d();\n\t\t\t\t}\n\t\t\t});\n\t\t\tcase CHUNK_VALUE_TYPE_ASYNC_ITERABLE: return run((0, import_wrapAsyncGenerator$2.default)(function* () {\n\t\t\t\ttry {\n\t\t\t\t\tvar _usingCtx4 = (0, import_usingCtx$1.default)();\n\t\t\t\t\tconst reader = _usingCtx4.u(controller.getReaderResource());\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\tconst { value: value$1 } = yield (0, import_awaitAsyncGenerator$1.default)(reader.read());\n\t\t\t\t\t\tconst [_chunkId, status, data] = value$1;\n\t\t\t\t\t\tswitch (status) {\n\t\t\t\t\t\t\tcase ASYNC_ITERABLE_STATUS_YIELD:\n\t\t\t\t\t\t\t\tyield decode(data);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase ASYNC_ITERABLE_STATUS_RETURN: return decode(data);\n\t\t\t\t\t\t\tcase ASYNC_ITERABLE_STATUS_ERROR:\n\t\t\t\t\t\t\t\tvar _opts$formatError5, _opts$formatError6;\n\t\t\t\t\t\t\t\tthrow (_opts$formatError5 = (_opts$formatError6 = opts.formatError) === null || _opts$formatError6 === void 0 ? void 0 : _opts$formatError6.call(opts, { error: data })) !== null && _opts$formatError5 !== void 0 ? _opts$formatError5 : new AsyncError(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (_) {\n\t\t\t\t\t_usingCtx4.e = _;\n\t\t\t\t} finally {\n\t\t\t\t\t_usingCtx4.d();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\tfunction decode(value) {\n\t\tconst [[data], ...asyncProps] = value;\n\t\tfor (const value$1 of asyncProps) {\n\t\t\tconst [key] = value$1;\n\t\t\tconst decoded = decodeChunkDefinition(value$1);\n\t\t\tif (key === null) return decoded;\n\t\t\tdata[key] = decoded;\n\t\t}\n\t\treturn data;\n\t}\n\tconst closeOrAbort = (reason) => {\n\t\theadDeferred === null || headDeferred === void 0 || headDeferred.reject(reason);\n\t\tstreamManager.cancelAll(reason);\n\t};\n\tsource.pipeTo(new WritableStream({\n\t\twrite(chunkOrHead) {\n\t\t\tif (headDeferred) {\n\t\t\t\tconst head = chunkOrHead;\n\t\t\t\tfor (const [key, value] of Object.entries(chunkOrHead)) {\n\t\t\t\t\tconst parsed = decode(value);\n\t\t\t\t\thead[key] = parsed;\n\t\t\t\t}\n\t\t\t\theadDeferred.resolve(head);\n\t\t\t\theadDeferred = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst chunk = chunkOrHead;\n\t\t\tconst [idx] = chunk;\n\t\t\tconst controller = streamManager.getOrCreate(idx);\n\t\t\tcontroller.enqueue(chunk);\n\t\t},\n\t\tclose: () => closeOrAbort(new Error(\"Stream closed\")),\n\t\tabort: closeOrAbort\n\t}), { signal: opts.abortController.signal }).catch((error) => {\n\t\tvar _opts$onError4;\n\t\t(_opts$onError4 = opts.onError) === null || _opts$onError4 === void 0 || _opts$onError4.call(opts, { error });\n\t\tcloseOrAbort(error);\n\t});\n\treturn [await headDeferred.promise, streamManager];\n}\n\n//#endregion\n//#region ../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js\nvar require_asyncGeneratorDelegate = __commonJS({ \"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js\"(exports, module) {\n\tvar OverloadYield = require_OverloadYield();\n\tfunction _asyncGeneratorDelegate$1(t) {\n\t\tvar e = {}, n = !1;\n\t\tfunction pump(e$1, r) {\n\t\t\treturn n = !0, r = new Promise(function(n$1) {\n\t\t\t\tn$1(t[e$1](r));\n\t\t\t}), {\n\t\t\t\tdone: !1,\n\t\t\t\tvalue: new OverloadYield(r, 1)\n\t\t\t};\n\t\t}\n\t\treturn e[\"undefined\" != typeof Symbol && Symbol.iterator || \"@@iterator\"] = function() {\n\t\t\treturn this;\n\t\t}, e.next = function(t$1) {\n\t\t\treturn n ? (n = !1, t$1) : pump(\"next\", t$1);\n\t\t}, \"function\" == typeof t[\"throw\"] && (e[\"throw\"] = function(t$1) {\n\t\t\tif (n) throw n = !1, t$1;\n\t\t\treturn pump(\"throw\", t$1);\n\t\t}), \"function\" == typeof t[\"return\"] && (e[\"return\"] = function(t$1) {\n\t\t\treturn n ? (n = !1, t$1) : pump(\"return\", t$1);\n\t\t}), e;\n\t}\n\tmodule.exports = _asyncGeneratorDelegate$1, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n} });\n\n//#endregion\n//#region src/unstable-core-do-not-import/stream/sse.ts\nvar import_asyncIterator = __toESM(require_asyncIterator(), 1);\nvar import_awaitAsyncGenerator = __toESM(require_awaitAsyncGenerator(), 1);\nvar import_wrapAsyncGenerator$1 = __toESM(require_wrapAsyncGenerator(), 1);\nvar import_asyncGeneratorDelegate = __toESM(require_asyncGeneratorDelegate(), 1);\nvar import_usingCtx = __toESM(require_usingCtx(), 1);\nconst PING_EVENT = \"ping\";\nconst SERIALIZED_ERROR_EVENT = \"serialized-error\";\nconst CONNECTED_EVENT = \"connected\";\nconst RETURN_EVENT = \"return\";\n/**\n*\n* @see https://html.spec.whatwg.org/multipage/server-sent-events.html\n*/\nfunction sseStreamProducer(opts) {\n\tvar _opts$ping$enabled, _opts$ping, _opts$ping$intervalMs, _opts$ping2, _opts$client;\n\tconst { serialize = identity } = opts;\n\tconst ping = {\n\t\tenabled: (_opts$ping$enabled = (_opts$ping = opts.ping) === null || _opts$ping === void 0 ? void 0 : _opts$ping.enabled) !== null && _opts$ping$enabled !== void 0 ? _opts$ping$enabled : false,\n\t\tintervalMs: (_opts$ping$intervalMs = (_opts$ping2 = opts.ping) === null || _opts$ping2 === void 0 ? void 0 : _opts$ping2.intervalMs) !== null && _opts$ping$intervalMs !== void 0 ? _opts$ping$intervalMs : 1e3\n\t};\n\tconst client = (_opts$client = opts.client) !== null && _opts$client !== void 0 ? _opts$client : {};\n\tif (ping.enabled && client.reconnectAfterInactivityMs && ping.intervalMs > client.reconnectAfterInactivityMs) throw new Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${ping.intervalMs} client.reconnectAfterInactivityMs: ${client.reconnectAfterInactivityMs}`);\n\tfunction generator() {\n\t\treturn _generator.apply(this, arguments);\n\t}\n\tfunction _generator() {\n\t\t_generator = (0, import_wrapAsyncGenerator$1.default)(function* () {\n\t\t\tyield {\n\t\t\t\tevent: CONNECTED_EVENT,\n\t\t\t\tdata: JSON.stringify(client)\n\t\t\t};\n\t\t\tlet iterable = opts.data;\n\t\t\tif (opts.emitAndEndImmediately) iterable = takeWithGrace(iterable, {\n\t\t\t\tcount: 1,\n\t\t\t\tgracePeriodMs: 1\n\t\t\t});\n\t\t\tif (opts.maxDurationMs && opts.maxDurationMs > 0 && opts.maxDurationMs !== Infinity) iterable = withMaxDuration(iterable, { maxDurationMs: opts.maxDurationMs });\n\t\t\tif (ping.enabled && ping.intervalMs !== Infinity && ping.intervalMs > 0) iterable = withPing(iterable, ping.intervalMs);\n\t\t\tlet value;\n\t\t\tlet chunk;\n\t\t\tvar _iteratorAbruptCompletion = false;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError;\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = (0, import_asyncIterator.default)(iterable), _step; _iteratorAbruptCompletion = !(_step = yield (0, import_awaitAsyncGenerator.default)(_iterator.next())).done; _iteratorAbruptCompletion = false) {\n\t\t\t\t\tvalue = _step.value;\n\t\t\t\t\t{\n\t\t\t\t\t\tif (value === PING_SYM) {\n\t\t\t\t\t\t\tyield {\n\t\t\t\t\t\t\t\tevent: PING_EVENT,\n\t\t\t\t\t\t\t\tdata: \"\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchunk = isTrackedEnvelope(value) ? {\n\t\t\t\t\t\t\tid: value[0],\n\t\t\t\t\t\t\tdata: value[1]\n\t\t\t\t\t\t} : { data: value };\n\t\t\t\t\t\tchunk.data = JSON.stringify(serialize(chunk.data));\n\t\t\t\t\t\tyield chunk;\n\t\t\t\t\t\tvalue = null;\n\t\t\t\t\t\tchunk = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (_iteratorAbruptCompletion && _iterator.return != null) yield (0, import_awaitAsyncGenerator.default)(_iterator.return());\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) throw _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn _generator.apply(this, arguments);\n\t}\n\tfunction generatorWithErrorHandling() {\n\t\treturn _generatorWithErrorHandling.apply(this, arguments);\n\t}\n\tfunction _generatorWithErrorHandling() {\n\t\t_generatorWithErrorHandling = (0, import_wrapAsyncGenerator$1.default)(function* () {\n\t\t\ttry {\n\t\t\t\tyield* (0, import_asyncGeneratorDelegate.default)((0, import_asyncIterator.default)(generator()));\n\t\t\t\tyield {\n\t\t\t\t\tevent: RETURN_EVENT,\n\t\t\t\t\tdata: \"\"\n\t\t\t\t};\n\t\t\t} catch (cause) {\n\t\t\t\tvar _opts$formatError, _opts$formatError2;\n\t\t\t\tif (isAbortError(cause)) return;\n\t\t\t\tconst error = getTRPCErrorFromUnknown(cause);\n\t\t\t\tconst data = (_opts$formatError = (_opts$formatError2 = opts.formatError) === null || _opts$formatError2 === void 0 ? void 0 : _opts$formatError2.call(opts, { error })) !== null && _opts$formatError !== void 0 ? _opts$formatError : null;\n\t\t\t\tyield {\n\t\t\t\t\tevent: SERIALIZED_ERROR_EVENT,\n\t\t\t\t\tdata: JSON.stringify(serialize(data))\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\treturn _generatorWithErrorHandling.apply(this, arguments);\n\t}\n\tconst stream = readableStreamFrom(generatorWithErrorHandling());\n\treturn stream.pipeThrough(new TransformStream({ transform(chunk, controller) {\n\t\tif (\"event\" in chunk) controller.enqueue(`event: ${chunk.event}\\n`);\n\t\tif (\"data\" in chunk) controller.enqueue(`data: ${chunk.data}\\n`);\n\t\tif (\"id\" in chunk) controller.enqueue(`id: ${chunk.id}\\n`);\n\t\tif (\"comment\" in chunk) controller.enqueue(`: ${chunk.comment}\\n`);\n\t\tcontroller.enqueue(\"\\n\\n\");\n\t} })).pipeThrough(new TextEncoderStream());\n}\nasync function withTimeout(opts) {\n\ttry {\n\t\tvar _usingCtx$1 = (0, import_usingCtx.default)();\n\t\tconst timeoutPromise = _usingCtx$1.u(timerResource(opts.timeoutMs));\n\t\tconst res = await Unpromise.race([opts.promise, timeoutPromise.start()]);\n\t\tif (res === disposablePromiseTimerResult) return await opts.onTimeout();\n\t\treturn res;\n\t} catch (_) {\n\t\t_usingCtx$1.e = _;\n\t} finally {\n\t\t_usingCtx$1.d();\n\t}\n}\n/**\n* @see https://html.spec.whatwg.org/multipage/server-sent-events.html\n*/\nfunction sseStreamConsumer(opts) {\n\tconst { deserialize = (v) => v } = opts;\n\tlet clientOptions = {};\n\tconst signal = opts.signal;\n\tlet _es = null;\n\tconst createStream = () => new ReadableStream({\n\t\tasync start(controller) {\n\t\t\tconst [url, init] = await Promise.all([opts.url(), opts.init()]);\n\t\t\tconst eventSource = _es = new opts.EventSource(url, init);\n\t\t\tcontroller.enqueue({\n\t\t\t\ttype: \"connecting\",\n\t\t\t\teventSource: _es,\n\t\t\t\tevent: null\n\t\t\t});\n\t\t\teventSource.addEventListener(CONNECTED_EVENT, (_msg) => {\n\t\t\t\tconst msg = _msg;\n\t\t\t\tconst options = JSON.parse(msg.data);\n\t\t\t\tclientOptions = options;\n\t\t\t\tcontroller.enqueue({\n\t\t\t\t\ttype: \"connected\",\n\t\t\t\t\toptions,\n\t\t\t\t\teventSource\n\t\t\t\t});\n\t\t\t});\n\t\t\teventSource.addEventListener(SERIALIZED_ERROR_EVENT, (_msg) => {\n\t\t\t\tconst msg = _msg;\n\t\t\t\tcontroller.enqueue({\n\t\t\t\t\ttype: \"serialized-error\",\n\t\t\t\t\terror: deserialize(JSON.parse(msg.data)),\n\t\t\t\t\teventSource\n\t\t\t\t});\n\t\t\t});\n\t\t\teventSource.addEventListener(PING_EVENT, () => {\n\t\t\t\tcontroller.enqueue({\n\t\t\t\t\ttype: \"ping\",\n\t\t\t\t\teventSource\n\t\t\t\t});\n\t\t\t});\n\t\t\teventSource.addEventListener(RETURN_EVENT, () => {\n\t\t\t\teventSource.close();\n\t\t\t\tcontroller.close();\n\t\t\t\t_es = null;\n\t\t\t});\n\t\t\teventSource.addEventListener(\"error\", (event) => {\n\t\t\t\tif (eventSource.readyState === eventSource.CLOSED) controller.error(event);\n\t\t\t\telse controller.enqueue({\n\t\t\t\t\ttype: \"connecting\",\n\t\t\t\t\teventSource,\n\t\t\t\t\tevent\n\t\t\t\t});\n\t\t\t});\n\t\t\teventSource.addEventListener(\"message\", (_msg) => {\n\t\t\t\tconst msg = _msg;\n\t\t\t\tconst chunk = deserialize(JSON.parse(msg.data));\n\t\t\t\tconst def = { data: chunk };\n\t\t\t\tif (msg.lastEventId) def.id = msg.lastEventId;\n\t\t\t\tcontroller.enqueue({\n\t\t\t\t\ttype: \"data\",\n\t\t\t\t\tdata: def,\n\t\t\t\t\teventSource\n\t\t\t\t});\n\t\t\t});\n\t\t\tconst onAbort = () => {\n\t\t\t\ttry {\n\t\t\t\t\teventSource.close();\n\t\t\t\t\tcontroller.close();\n\t\t\t\t} catch (_unused) {}\n\t\t\t};\n\t\t\tif (signal.aborted) onAbort();\n\t\t\telse signal.addEventListener(\"abort\", onAbort);\n\t\t},\n\t\tcancel() {\n\t\t\t_es === null || _es === void 0 || _es.close();\n\t\t}\n\t});\n\tconst getStreamResource = () => {\n\t\tlet stream = createStream();\n\t\tlet reader = stream.getReader();\n\t\tasync function dispose() {\n\t\t\tawait reader.cancel();\n\t\t\t_es = null;\n\t\t}\n\t\treturn makeAsyncResource({\n\t\t\tread() {\n\t\t\t\treturn reader.read();\n\t\t\t},\n\t\t\tasync recreate() {\n\t\t\t\tawait dispose();\n\t\t\t\tstream = createStream();\n\t\t\t\treader = stream.getReader();\n\t\t\t}\n\t\t}, dispose);\n\t};\n\treturn run((0, import_wrapAsyncGenerator$1.default)(function* () {\n\t\ttry {\n\t\t\tvar _usingCtx3 = (0, import_usingCtx.default)();\n\t\t\tconst stream = _usingCtx3.a(getStreamResource());\n\t\t\twhile (true) {\n\t\t\t\tlet promise = stream.read();\n\t\t\t\tconst timeoutMs = clientOptions.reconnectAfterInactivityMs;\n\t\t\t\tif (timeoutMs) promise = withTimeout({\n\t\t\t\t\tpromise,\n\t\t\t\t\ttimeoutMs,\n\t\t\t\t\tonTimeout: async () => {\n\t\t\t\t\t\tconst res = {\n\t\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\t\ttype: \"timeout\",\n\t\t\t\t\t\t\t\tms: timeoutMs,\n\t\t\t\t\t\t\t\teventSource: _es\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdone: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tawait stream.recreate();\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconst result = yield (0, import_awaitAsyncGenerator.default)(promise);\n\t\t\t\tif (result.done) return result.value;\n\t\t\t\tyield result.value;\n\t\t\t}\n\t\t} catch (_) {\n\t\t\t_usingCtx3.e = _;\n\t\t} finally {\n\t\t\tyield (0, import_awaitAsyncGenerator.default)(_usingCtx3.d());\n\t\t}\n\t}));\n}\nconst sseHeaders = {\n\t\"Content-Type\": \"text/event-stream\",\n\t\"Cache-Control\": \"no-cache, no-transform\",\n\t\"X-Accel-Buffering\": \"no\",\n\tConnection: \"keep-alive\"\n};\n\n//#endregion\n//#region src/unstable-core-do-not-import/http/resolveResponse.ts\nvar import_wrapAsyncGenerator = __toESM(require_wrapAsyncGenerator(), 1);\nvar import_objectSpread2 = __toESM(require_objectSpread2(), 1);\nfunction errorToAsyncIterable(err) {\n\treturn run((0, import_wrapAsyncGenerator.default)(function* () {\n\t\tthrow err;\n\t}));\n}\nconst TYPE_ACCEPTED_METHOD_MAP = {\n\tmutation: [\"POST\"],\n\tquery: [\"GET\"],\n\tsubscription: [\"GET\"]\n};\nconst TYPE_ACCEPTED_METHOD_MAP_WITH_METHOD_OVERRIDE = {\n\tmutation: [\"POST\"],\n\tquery: [\"GET\", \"POST\"],\n\tsubscription: [\"GET\", \"POST\"]\n};\nfunction initResponse(initOpts) {\n\tvar _responseMeta, _info$calls$find$proc, _info$calls$find;\n\tconst { ctx, info, responseMeta, untransformedJSON, errors = [], headers } = initOpts;\n\tlet status = untransformedJSON ? getHTTPStatusCode(untransformedJSON) : 200;\n\tconst eagerGeneration = !untransformedJSON;\n\tconst data = eagerGeneration ? [] : Array.isArray(untransformedJSON) ? untransformedJSON : [untransformedJSON];\n\tconst meta = (_responseMeta = responseMeta === null || responseMeta === void 0 ? void 0 : responseMeta({\n\t\tctx,\n\t\tinfo,\n\t\tpaths: info === null || info === void 0 ? void 0 : info.calls.map((call) => call.path),\n\t\tdata,\n\t\terrors,\n\t\teagerGeneration,\n\t\ttype: (_info$calls$find$proc = info === null || info === void 0 || (_info$calls$find = info.calls.find((call) => {\n\t\t\tvar _call$procedure;\n\t\t\treturn (_call$procedure = call.procedure) === null || _call$procedure === void 0 ? void 0 : _call$procedure._def.type;\n\t\t})) === null || _info$calls$find === void 0 || (_info$calls$find = _info$calls$find.procedure) === null || _info$calls$find === void 0 ? void 0 : _info$calls$find._def.type) !== null && _info$calls$find$proc !== void 0 ? _info$calls$find$proc : \"unknown\"\n\t})) !== null && _responseMeta !== void 0 ? _responseMeta : {};\n\tif (meta.headers) {\n\t\tif (meta.headers instanceof Headers) for (const [key, value] of meta.headers.entries()) headers.append(key, value);\n\t\telse\n /**\n\t\t* @deprecated, delete in v12\n\t\t*/\n\t\tfor (const [key, value] of Object.entries(meta.headers)) if (Array.isArray(value)) for (const v of value) headers.append(key, v);\n\t\telse if (typeof value === \"string\") headers.set(key, value);\n\t}\n\tif (meta.status) status = meta.status;\n\treturn { status };\n}\nfunction caughtErrorToData(cause, errorOpts) {\n\tconst { router, req, onError } = errorOpts.opts;\n\tconst error = getTRPCErrorFromUnknown(cause);\n\tonError === null || onError === void 0 || onError({\n\t\terror,\n\t\tpath: errorOpts.path,\n\t\tinput: errorOpts.input,\n\t\tctx: errorOpts.ctx,\n\t\ttype: errorOpts.type,\n\t\treq\n\t});\n\tconst untransformedJSON = { error: getErrorShape({\n\t\tconfig: router._def._config,\n\t\terror,\n\t\ttype: errorOpts.type,\n\t\tpath: errorOpts.path,\n\t\tinput: errorOpts.input,\n\t\tctx: errorOpts.ctx\n\t}) };\n\tconst transformedJSON = transformTRPCResponse(router._def._config, untransformedJSON);\n\tconst body = JSON.stringify(transformedJSON);\n\treturn {\n\t\terror,\n\t\tuntransformedJSON,\n\t\tbody\n\t};\n}\n/**\n* Check if a value is a stream-like object\n* - if it's an async iterable\n* - if it's an object with async iterables or promises\n*/\nfunction isDataStream(v) {\n\tif (!isObject(v)) return false;\n\tif (isAsyncIterable(v)) return true;\n\treturn Object.values(v).some(isPromise) || Object.values(v).some(isAsyncIterable);\n}\nasync function resolveResponse(opts) {\n\tvar _ref, _opts$allowBatching, _opts$batching, _opts$allowMethodOver, _config$sse$enabled, _config$sse;\n\tconst { router, req } = opts;\n\tconst headers = new Headers([[\"vary\", \"trpc-accept\"]]);\n\tconst config = router._def._config;\n\tconst url = new URL(req.url);\n\tif (req.method === \"HEAD\") return new Response(null, { status: 204 });\n\tconst allowBatching = (_ref = (_opts$allowBatching = opts.allowBatching) !== null && _opts$allowBatching !== void 0 ? _opts$allowBatching : (_opts$batching = opts.batching) === null || _opts$batching === void 0 ? void 0 : _opts$batching.enabled) !== null && _ref !== void 0 ? _ref : true;\n\tconst allowMethodOverride = ((_opts$allowMethodOver = opts.allowMethodOverride) !== null && _opts$allowMethodOver !== void 0 ? _opts$allowMethodOver : false) && req.method === \"POST\";\n\tconst infoTuple = await run(async () => {\n\t\ttry {\n\t\t\treturn [void 0, await getRequestInfo({\n\t\t\t\treq,\n\t\t\t\tpath: decodeURIComponent(opts.path),\n\t\t\t\trouter,\n\t\t\t\tsearchParams: url.searchParams,\n\t\t\t\theaders: opts.req.headers,\n\t\t\t\turl\n\t\t\t})];\n\t\t} catch (cause) {\n\t\t\treturn [getTRPCErrorFromUnknown(cause), void 0];\n\t\t}\n\t});\n\tconst ctxManager = run(() => {\n\t\tlet result = void 0;\n\t\treturn {\n\t\t\tvalueOrUndefined: () => {\n\t\t\t\tif (!result) return void 0;\n\t\t\t\treturn result[1];\n\t\t\t},\n\t\t\tvalue: () => {\n\t\t\t\tconst [err, ctx] = result;\n\t\t\t\tif (err) throw err;\n\t\t\t\treturn ctx;\n\t\t\t},\n\t\t\tcreate: async (info) => {\n\t\t\t\tif (result) throw new Error(\"This should only be called once - report a bug in tRPC\");\n\t\t\t\ttry {\n\t\t\t\t\tconst ctx = await opts.createContext({ info });\n\t\t\t\t\tresult = [void 0, ctx];\n\t\t\t\t} catch (cause) {\n\t\t\t\t\tresult = [getTRPCErrorFromUnknown(cause), void 0];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\tconst methodMapper = allowMethodOverride ? TYPE_ACCEPTED_METHOD_MAP_WITH_METHOD_OVERRIDE : TYPE_ACCEPTED_METHOD_MAP;\n\t/**\n\t* @deprecated\n\t*/\n\tconst isStreamCall = req.headers.get(\"trpc-accept\") === \"application/jsonl\";\n\tconst experimentalSSE = (_config$sse$enabled = (_config$sse = config.sse) === null || _config$sse === void 0 ? void 0 : _config$sse.enabled) !== null && _config$sse$enabled !== void 0 ? _config$sse$enabled : true;\n\ttry {\n\t\tconst [infoError, info] = infoTuple;\n\t\tif (infoError) throw infoError;\n\t\tif (info.isBatchCall && !allowBatching) throw new TRPCError({\n\t\t\tcode: \"BAD_REQUEST\",\n\t\t\tmessage: `Batching is not enabled on the server`\n\t\t});\n\t\t/* istanbul ignore if -- @preserve */\n\t\tif (isStreamCall && !info.isBatchCall) throw new TRPCError({\n\t\t\tmessage: `Streaming requests must be batched (you can do a batch of 1)`,\n\t\t\tcode: \"BAD_REQUEST\"\n\t\t});\n\t\tawait ctxManager.create(info);\n\t\tconst rpcCalls = info.calls.map(async (call) => {\n\t\t\tconst proc = call.procedure;\n\t\t\ttry {\n\t\t\t\tif (opts.error) throw opts.error;\n\t\t\t\tif (!proc) throw new TRPCError({\n\t\t\t\t\tcode: \"NOT_FOUND\",\n\t\t\t\t\tmessage: `No procedure found on path \"${call.path}\"`\n\t\t\t\t});\n\t\t\t\tif (!methodMapper[proc._def.type].includes(req.method)) throw new TRPCError({\n\t\t\t\t\tcode: \"METHOD_NOT_SUPPORTED\",\n\t\t\t\t\tmessage: `Unsupported ${req.method}-request to ${proc._def.type} procedure at path \"${call.path}\"`\n\t\t\t\t});\n\t\t\t\tif (proc._def.type === \"subscription\") {\n\t\t\t\t\t/* istanbul ignore if -- @preserve */\n\t\t\t\t\tif (info.isBatchCall) throw new TRPCError({\n\t\t\t\t\t\tcode: \"BAD_REQUEST\",\n\t\t\t\t\t\tmessage: `Cannot batch subscription calls`\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst data = await proc({\n\t\t\t\t\tpath: call.path,\n\t\t\t\t\tgetRawInput: call.getRawInput,\n\t\t\t\t\tctx: ctxManager.value(),\n\t\t\t\t\ttype: proc._def.type,\n\t\t\t\t\tsignal: opts.req.signal\n\t\t\t\t});\n\t\t\t\treturn [void 0, { data }];\n\t\t\t} catch (cause) {\n\t\t\t\tvar _opts$onError, _call$procedure$_def$, _call$procedure2;\n\t\t\t\tconst error = getTRPCErrorFromUnknown(cause);\n\t\t\t\tconst input = call.result();\n\t\t\t\t(_opts$onError = opts.onError) === null || _opts$onError === void 0 || _opts$onError.call(opts, {\n\t\t\t\t\terror,\n\t\t\t\t\tpath: call.path,\n\t\t\t\t\tinput,\n\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\ttype: (_call$procedure$_def$ = (_call$procedure2 = call.procedure) === null || _call$procedure2 === void 0 ? void 0 : _call$procedure2._def.type) !== null && _call$procedure$_def$ !== void 0 ? _call$procedure$_def$ : \"unknown\",\n\t\t\t\t\treq: opts.req\n\t\t\t\t});\n\t\t\t\treturn [error, void 0];\n\t\t\t}\n\t\t});\n\t\tif (!info.isBatchCall) {\n\t\t\tconst [call] = info.calls;\n\t\t\tconst [error, result] = await rpcCalls[0];\n\t\t\tswitch (info.type) {\n\t\t\t\tcase \"unknown\":\n\t\t\t\tcase \"mutation\":\n\t\t\t\tcase \"query\": {\n\t\t\t\t\theaders.set(\"content-type\", \"application/json\");\n\t\t\t\t\tif (isDataStream(result === null || result === void 0 ? void 0 : result.data)) throw new TRPCError({\n\t\t\t\t\t\tcode: \"UNSUPPORTED_MEDIA_TYPE\",\n\t\t\t\t\t\tmessage: \"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink\"\n\t\t\t\t\t});\n\t\t\t\t\tconst res = error ? { error: getErrorShape({\n\t\t\t\t\t\tconfig,\n\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tinput: call.result(),\n\t\t\t\t\t\tpath: call.path,\n\t\t\t\t\t\ttype: info.type\n\t\t\t\t\t}) } : { result: { data: result.data } };\n\t\t\t\t\tconst headResponse$1 = initResponse({\n\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\tinfo,\n\t\t\t\t\t\tresponseMeta: opts.responseMeta,\n\t\t\t\t\t\terrors: error ? [error] : [],\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tuntransformedJSON: [res]\n\t\t\t\t\t});\n\t\t\t\t\treturn new Response(JSON.stringify(transformTRPCResponse(config, res)), {\n\t\t\t\t\t\tstatus: headResponse$1.status,\n\t\t\t\t\t\theaders\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcase \"subscription\": {\n\t\t\t\t\tconst iterable = run(() => {\n\t\t\t\t\t\tif (error) return errorToAsyncIterable(error);\n\t\t\t\t\t\tif (!experimentalSSE) return errorToAsyncIterable(new TRPCError({\n\t\t\t\t\t\t\tcode: \"METHOD_NOT_SUPPORTED\",\n\t\t\t\t\t\t\tmessage: \"Missing experimental flag \\\"sseSubscriptions\\\"\"\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tif (!isObservable(result.data) && !isAsyncIterable(result.data)) return errorToAsyncIterable(new TRPCError({\n\t\t\t\t\t\t\tmessage: `Subscription ${call.path} did not return an observable or a AsyncGenerator`,\n\t\t\t\t\t\t\tcode: \"INTERNAL_SERVER_ERROR\"\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tconst dataAsIterable = isObservable(result.data) ? observableToAsyncIterable(result.data, opts.req.signal) : result.data;\n\t\t\t\t\t\treturn dataAsIterable;\n\t\t\t\t\t});\n\t\t\t\t\tconst stream = sseStreamProducer((0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, config.sse), {}, {\n\t\t\t\t\t\tdata: iterable,\n\t\t\t\t\t\tserialize: (v) => config.transformer.output.serialize(v),\n\t\t\t\t\t\tformatError(errorOpts) {\n\t\t\t\t\t\t\tvar _call$procedure$_def$2, _call$procedure3, _opts$onError2;\n\t\t\t\t\t\t\tconst error$1 = getTRPCErrorFromUnknown(errorOpts.error);\n\t\t\t\t\t\t\tconst input = call === null || call === void 0 ? void 0 : call.result();\n\t\t\t\t\t\t\tconst path = call === null || call === void 0 ? void 0 : call.path;\n\t\t\t\t\t\t\tconst type = (_call$procedure$_def$2 = call === null || call === void 0 || (_call$procedure3 = call.procedure) === null || _call$procedure3 === void 0 ? void 0 : _call$procedure3._def.type) !== null && _call$procedure$_def$2 !== void 0 ? _call$procedure$_def$2 : \"unknown\";\n\t\t\t\t\t\t\t(_opts$onError2 = opts.onError) === null || _opts$onError2 === void 0 || _opts$onError2.call(opts, {\n\t\t\t\t\t\t\t\terror: error$1,\n\t\t\t\t\t\t\t\tpath,\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\t\t\treq: opts.req,\n\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconst shape = getErrorShape({\n\t\t\t\t\t\t\t\tconfig,\n\t\t\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\t\t\terror: error$1,\n\t\t\t\t\t\t\t\tinput,\n\t\t\t\t\t\t\t\tpath,\n\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn shape;\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t\tfor (const [key, value] of Object.entries(sseHeaders)) headers.set(key, value);\n\t\t\t\t\tconst headResponse$1 = initResponse({\n\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\tinfo,\n\t\t\t\t\t\tresponseMeta: opts.responseMeta,\n\t\t\t\t\t\terrors: [],\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tuntransformedJSON: null\n\t\t\t\t\t});\n\t\t\t\t\treturn new Response(stream, {\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tstatus: headResponse$1.status\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (info.accept === \"application/jsonl\") {\n\t\t\theaders.set(\"content-type\", \"application/json\");\n\t\t\theaders.set(\"transfer-encoding\", \"chunked\");\n\t\t\tconst headResponse$1 = initResponse({\n\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\tinfo,\n\t\t\t\tresponseMeta: opts.responseMeta,\n\t\t\t\terrors: [],\n\t\t\t\theaders,\n\t\t\t\tuntransformedJSON: null\n\t\t\t});\n\t\t\tconst stream = jsonlStreamProducer((0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, config.jsonl), {}, {\n\t\t\t\tmaxDepth: Infinity,\n\t\t\t\tdata: rpcCalls.map(async (res) => {\n\t\t\t\t\tconst [error, result] = await res;\n\t\t\t\t\tconst call = info.calls[0];\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tvar _procedure$_def$type, _procedure;\n\t\t\t\t\t\treturn { error: getErrorShape({\n\t\t\t\t\t\t\tconfig,\n\t\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\tinput: call.result(),\n\t\t\t\t\t\t\tpath: call.path,\n\t\t\t\t\t\t\ttype: (_procedure$_def$type = (_procedure = call.procedure) === null || _procedure === void 0 ? void 0 : _procedure._def.type) !== null && _procedure$_def$type !== void 0 ? _procedure$_def$type : \"unknown\"\n\t\t\t\t\t\t}) };\n\t\t\t\t\t}\n\t\t\t\t\t/**\n\t\t\t\t\t* Not very pretty, but we need to wrap nested data in promises\n\t\t\t\t\t* Our stream producer will only resolve top-level async values or async values that are directly nested in another async value\n\t\t\t\t\t*/\n\t\t\t\t\tconst iterable = isObservable(result.data) ? observableToAsyncIterable(result.data, opts.req.signal) : Promise.resolve(result.data);\n\t\t\t\t\treturn { result: Promise.resolve({ data: iterable }) };\n\t\t\t\t}),\n\t\t\t\tserialize: config.transformer.output.serialize,\n\t\t\t\tonError: (cause) => {\n\t\t\t\t\tvar _opts$onError3, _info$type;\n\t\t\t\t\t(_opts$onError3 = opts.onError) === null || _opts$onError3 === void 0 || _opts$onError3.call(opts, {\n\t\t\t\t\t\terror: getTRPCErrorFromUnknown(cause),\n\t\t\t\t\t\tpath: void 0,\n\t\t\t\t\t\tinput: void 0,\n\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\treq: opts.req,\n\t\t\t\t\t\ttype: (_info$type = info === null || info === void 0 ? void 0 : info.type) !== null && _info$type !== void 0 ? _info$type : \"unknown\"\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tformatError(errorOpts) {\n\t\t\t\t\tvar _call$procedure$_def$3, _call$procedure4;\n\t\t\t\t\tconst call = info === null || info === void 0 ? void 0 : info.calls[errorOpts.path[0]];\n\t\t\t\t\tconst error = getTRPCErrorFromUnknown(errorOpts.error);\n\t\t\t\t\tconst input = call === null || call === void 0 ? void 0 : call.result();\n\t\t\t\t\tconst path = call === null || call === void 0 ? void 0 : call.path;\n\t\t\t\t\tconst type = (_call$procedure$_def$3 = call === null || call === void 0 || (_call$procedure4 = call.procedure) === null || _call$procedure4 === void 0 ? void 0 : _call$procedure4._def.type) !== null && _call$procedure$_def$3 !== void 0 ? _call$procedure$_def$3 : \"unknown\";\n\t\t\t\t\tconst shape = getErrorShape({\n\t\t\t\t\t\tconfig,\n\t\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\t\terror,\n\t\t\t\t\t\tinput,\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\ttype\n\t\t\t\t\t});\n\t\t\t\t\treturn shape;\n\t\t\t\t}\n\t\t\t}));\n\t\t\treturn new Response(stream, {\n\t\t\t\theaders,\n\t\t\t\tstatus: headResponse$1.status\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t* Non-streaming response:\n\t\t* - await all responses in parallel, blocking on the slowest one\n\t\t* - create headers with known response body\n\t\t* - return a complete HTTPResponse\n\t\t*/\n\t\theaders.set(\"content-type\", \"application/json\");\n\t\tconst results = (await Promise.all(rpcCalls)).map((res) => {\n\t\t\tconst [error, result] = res;\n\t\t\tif (error) return res;\n\t\t\tif (isDataStream(result.data)) return [new TRPCError({\n\t\t\t\tcode: \"UNSUPPORTED_MEDIA_TYPE\",\n\t\t\t\tmessage: \"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink\"\n\t\t\t}), void 0];\n\t\t\treturn res;\n\t\t});\n\t\tconst resultAsRPCResponse = results.map(([error, result], index) => {\n\t\t\tconst call = info.calls[index];\n\t\t\tif (error) {\n\t\t\t\tvar _call$procedure$_def$4, _call$procedure5;\n\t\t\t\treturn { error: getErrorShape({\n\t\t\t\t\tconfig,\n\t\t\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\t\t\terror,\n\t\t\t\t\tinput: call.result(),\n\t\t\t\t\tpath: call.path,\n\t\t\t\t\ttype: (_call$procedure$_def$4 = (_call$procedure5 = call.procedure) === null || _call$procedure5 === void 0 ? void 0 : _call$procedure5._def.type) !== null && _call$procedure$_def$4 !== void 0 ? _call$procedure$_def$4 : \"unknown\"\n\t\t\t\t}) };\n\t\t\t}\n\t\t\treturn { result: { data: result.data } };\n\t\t});\n\t\tconst errors = results.map(([error]) => error).filter(Boolean);\n\t\tconst headResponse = initResponse({\n\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\tinfo,\n\t\t\tresponseMeta: opts.responseMeta,\n\t\t\tuntransformedJSON: resultAsRPCResponse,\n\t\t\terrors,\n\t\t\theaders\n\t\t});\n\t\treturn new Response(JSON.stringify(transformTRPCResponse(config, resultAsRPCResponse)), {\n\t\t\tstatus: headResponse.status,\n\t\t\theaders\n\t\t});\n\t} catch (cause) {\n\t\tvar _info$type2;\n\t\tconst [_infoError, info] = infoTuple;\n\t\tconst ctx = ctxManager.valueOrUndefined();\n\t\tconst { error, untransformedJSON, body } = caughtErrorToData(cause, {\n\t\t\topts,\n\t\t\tctx: ctxManager.valueOrUndefined(),\n\t\t\ttype: (_info$type2 = info === null || info === void 0 ? void 0 : info.type) !== null && _info$type2 !== void 0 ? _info$type2 : \"unknown\"\n\t\t});\n\t\tconst headResponse = initResponse({\n\t\t\tctx,\n\t\t\tinfo,\n\t\t\tresponseMeta: opts.responseMeta,\n\t\t\tuntransformedJSON,\n\t\t\terrors: [error],\n\t\t\theaders\n\t\t});\n\t\treturn new Response(body, {\n\t\t\tstatus: headResponse.status,\n\t\t\theaders\n\t\t});\n\t}\n}\n\n//#endregion\nexport { Unpromise, createDeferred, getRequestInfo, isAbortError, isPromise, iteratorResource, jsonlStreamConsumer, jsonlStreamProducer, makeAsyncResource, makeResource, parseConnectionParamsFromString, parseConnectionParamsFromUnknown, require_usingCtx, resolveResponse, sseHeaders, sseStreamConsumer, sseStreamProducer, takeWithGrace, throwAbortError, withMaxDuration };\n//# sourceMappingURL=resolveResponse-CzlbRpCI.mjs.map","import { __toESM, getErrorShape, require_objectSpread2 } from \"./getErrorShape-Uhlrl4Bk.mjs\";\nimport { TRPCError, getTRPCErrorFromUnknown, transformTRPCResponse } from \"./tracked-gU3ttYjg.mjs\";\nimport { run } from \"./utils-DdbbrDku.mjs\";\nimport { isAbortError, resolveResponse } from \"./resolveResponse-CzlbRpCI.mjs\";\n\n//#region src/adapters/node-http/incomingMessageToRequest.ts\nfunction createBody(req, opts) {\n\tif (\"body\" in req) {\n\t\tif (req.body === void 0) return void 0;\n\t\tif (typeof req.body === \"string\") return req.body;\n\t\treturn JSON.stringify(req.body);\n\t}\n\tlet size = 0;\n\tlet hasClosed = false;\n\treturn new ReadableStream({\n\t\tstart(controller) {\n\t\t\tconst onData = (chunk) => {\n\t\t\t\tsize += chunk.length;\n\t\t\t\tif (!opts.maxBodySize || size <= opts.maxBodySize) {\n\t\t\t\t\tcontroller.enqueue(new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcontroller.error(new TRPCError({ code: \"PAYLOAD_TOO_LARGE\" }));\n\t\t\t\thasClosed = true;\n\t\t\t\treq.off(\"data\", onData);\n\t\t\t\treq.off(\"end\", onEnd);\n\t\t\t};\n\t\t\tconst onEnd = () => {\n\t\t\t\tif (hasClosed) return;\n\t\t\t\thasClosed = true;\n\t\t\t\treq.off(\"data\", onData);\n\t\t\t\treq.off(\"end\", onEnd);\n\t\t\t\tcontroller.close();\n\t\t\t};\n\t\t\treq.on(\"data\", onData);\n\t\t\treq.on(\"end\", onEnd);\n\t\t},\n\t\tcancel() {\n\t\t\treq.destroy();\n\t\t}\n\t});\n}\nfunction createURL(req) {\n\ttry {\n\t\tvar _ref, _req$headers$host;\n\t\tconst protocol = req.headers[\":scheme\"] && req.headers[\":scheme\"] === \"https\" || req.socket && \"encrypted\" in req.socket && req.socket.encrypted ? \"https:\" : \"http:\";\n\t\tconst host = (_ref = (_req$headers$host = req.headers.host) !== null && _req$headers$host !== void 0 ? _req$headers$host : req.headers[\":authority\"]) !== null && _ref !== void 0 ? _ref : \"localhost\";\n\t\treturn new URL(req.url, `${protocol}//${host}`);\n\t} catch (cause) {\n\t\tthrow new TRPCError({\n\t\t\tcode: \"BAD_REQUEST\",\n\t\t\tmessage: \"Invalid URL\",\n\t\t\tcause\n\t\t});\n\t}\n}\nfunction createHeaders(incoming) {\n\tconst headers = new Headers();\n\tfor (const key in incoming) {\n\t\tconst value = incoming[key];\n\t\tif (typeof key === \"string\" && key.startsWith(\":\")) continue;\n\t\tif (Array.isArray(value)) for (const item of value) headers.append(key, item);\n\t\telse if (value != null) headers.append(key, value);\n\t}\n\treturn headers;\n}\n/**\n* Convert an [`IncomingMessage`](https://nodejs.org/api/http.html#class-httpincomingmessage) to a [`Request`](https://developer.mozilla.org/en-US/docs/Web/API/Request)\n*/\nfunction incomingMessageToRequest(req, res, opts) {\n\tconst ac = new AbortController();\n\tconst onAbort = () => {\n\t\tres.off(\"close\", onAbort);\n\t\treq.off(\"aborted\", onAbort);\n\t\tac.abort();\n\t};\n\tres.once(\"close\", onAbort);\n\treq.once(\"aborted\", onAbort);\n\tconst url = createURL(req);\n\tconst init = {\n\t\theaders: createHeaders(req.headers),\n\t\tmethod: req.method,\n\t\tsignal: ac.signal\n\t};\n\tif (req.method !== \"GET\" && req.method !== \"HEAD\") {\n\t\tinit.body = createBody(req, opts);\n\t\tinit.duplex = \"half\";\n\t}\n\tconst request = new Request(url, init);\n\treturn request;\n}\n\n//#endregion\n//#region src/adapters/node-http/writeResponse.ts\nasync function writeResponseBodyChunk(res, chunk) {\n\tif (res.write(chunk) === false) await new Promise((resolve, reject) => {\n\t\tconst onError = (err) => {\n\t\t\treject(err);\n\t\t\tcleanup();\n\t\t};\n\t\tconst onDrain = () => {\n\t\t\tresolve();\n\t\t\tcleanup();\n\t\t};\n\t\tconst cleanup = () => {\n\t\t\tres.off(\"error\", onError);\n\t\t\tres.off(\"drain\", onDrain);\n\t\t};\n\t\tres.once(\"error\", onError);\n\t\tres.once(\"drain\", onDrain);\n\t});\n}\n/**\n* @internal\n*/\nasync function writeResponseBody(opts) {\n\tconst { res } = opts;\n\ttry {\n\t\tconst writableStream = new WritableStream({ async write(chunk) {\n\t\t\tvar _res$flush;\n\t\t\tawait writeResponseBodyChunk(res, chunk);\n\t\t\t(_res$flush = res.flush) === null || _res$flush === void 0 || _res$flush.call(res);\n\t\t} });\n\t\tawait opts.body.pipeTo(writableStream, { signal: opts.signal });\n\t} catch (err) {\n\t\tif (isAbortError(err)) return;\n\t\tthrow err;\n\t}\n}\n/**\n* @internal\n*/\nasync function writeResponse(opts) {\n\tconst { response, rawResponse } = opts;\n\tif (rawResponse.statusCode === 200) rawResponse.statusCode = response.status;\n\tfor (const [key, value] of response.headers) rawResponse.setHeader(key, value);\n\ttry {\n\t\tif (response.body) await writeResponseBody({\n\t\t\tres: rawResponse,\n\t\t\tsignal: opts.request.signal,\n\t\t\tbody: response.body\n\t\t});\n\t} catch (err) {\n\t\tif (!rawResponse.headersSent) rawResponse.statusCode = 500;\n\t\tthrow err;\n\t} finally {\n\t\trawResponse.end();\n\t}\n}\n\n//#endregion\n//#region src/adapters/node-http/nodeHTTPRequestHandler.ts\nvar import_objectSpread2 = __toESM(require_objectSpread2(), 1);\n/**\n* @internal\n*/\nfunction internal_exceptionHandler(opts) {\n\treturn (cause) => {\n\t\tvar _opts$onError;\n\t\tconst { res, req } = opts;\n\t\tconst error = getTRPCErrorFromUnknown(cause);\n\t\tconst shape = getErrorShape({\n\t\t\tconfig: opts.router._def._config,\n\t\t\terror,\n\t\t\ttype: \"unknown\",\n\t\t\tpath: void 0,\n\t\t\tinput: void 0,\n\t\t\tctx: void 0\n\t\t});\n\t\t(_opts$onError = opts.onError) === null || _opts$onError === void 0 || _opts$onError.call(opts, {\n\t\t\treq,\n\t\t\terror,\n\t\t\ttype: \"unknown\",\n\t\t\tpath: void 0,\n\t\t\tinput: void 0,\n\t\t\tctx: void 0\n\t\t});\n\t\tconst transformed = transformTRPCResponse(opts.router._def._config, { error: shape });\n\t\tres.statusCode = shape.data.httpStatus;\n\t\tres.end(JSON.stringify(transformed));\n\t};\n}\n/**\n* @remark the promise never rejects\n*/\nasync function nodeHTTPRequestHandler(opts) {\n\treturn new Promise((resolve) => {\n\t\tvar _opts$middleware;\n\t\tconst handleViaMiddleware = (_opts$middleware = opts.middleware) !== null && _opts$middleware !== void 0 ? _opts$middleware : (_req, _res, next) => next();\n\t\topts.res.once(\"finish\", () => {\n\t\t\tresolve();\n\t\t});\n\t\treturn handleViaMiddleware(opts.req, opts.res, (err) => {\n\t\t\trun(async () => {\n\t\t\t\tvar _opts$maxBodySize;\n\t\t\t\tconst request = incomingMessageToRequest(opts.req, opts.res, { maxBodySize: (_opts$maxBodySize = opts.maxBodySize) !== null && _opts$maxBodySize !== void 0 ? _opts$maxBodySize : null });\n\t\t\t\tconst createContext = async (innerOpts) => {\n\t\t\t\t\tvar _opts$createContext;\n\t\t\t\t\treturn await ((_opts$createContext = opts.createContext) === null || _opts$createContext === void 0 ? void 0 : _opts$createContext.call(opts, (0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, opts), innerOpts)));\n\t\t\t\t};\n\t\t\t\tconst response = await resolveResponse((0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, opts), {}, {\n\t\t\t\t\treq: request,\n\t\t\t\t\terror: err ? getTRPCErrorFromUnknown(err) : null,\n\t\t\t\t\tcreateContext,\n\t\t\t\t\tonError(o) {\n\t\t\t\t\t\tvar _opts$onError2;\n\t\t\t\t\t\topts === null || opts === void 0 || (_opts$onError2 = opts.onError) === null || _opts$onError2 === void 0 || _opts$onError2.call(opts, (0, import_objectSpread2.default)((0, import_objectSpread2.default)({}, o), {}, { req: opts.req }));\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\tawait writeResponse({\n\t\t\t\t\trequest,\n\t\t\t\t\tresponse,\n\t\t\t\t\trawResponse: opts.res\n\t\t\t\t});\n\t\t\t}).catch(internal_exceptionHandler(opts));\n\t\t});\n\t});\n}\n\n//#endregion\nexport { createURL, incomingMessageToRequest, internal_exceptionHandler, nodeHTTPRequestHandler };\n//# sourceMappingURL=node-http-ZvZKxPic.mjs.map"],"x_google_ignoreList":[0,1,2,3,4,5,6,7],"mappings":"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"}