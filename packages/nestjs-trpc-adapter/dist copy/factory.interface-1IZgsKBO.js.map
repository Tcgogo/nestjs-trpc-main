{"version":3,"file":"factory.interface-1IZgsKBO.js","names":[],"sources":["../lib/interfaces/factory.interface.ts"],"sourcesContent":["import type { AnyRouter, ProcedureType, TRPCRouterRecord } from \"@trpc/server\";\nimport type { ZodType } from \"zod\";\nimport type { TRPCMiddleware } from \"./middleware.interface\";\nimport type { Class, Constructor } from \"type-fest\";\nimport type { AnyProcedureBuilder } from \"@trpc/server/unstable-core-do-not-import\";\n\nexport enum ProcedureParamDecoratorType {\n  Options = \"options\",\n  Ctx = \"ctx\",\n  Input = \"input\",\n  RawInput = \"rawInput\",\n  Type = \"type\",\n  Path = \"path\",\n}\n\nexport type ProcedureImplementation = ({\n  input,\n  output,\n}: {\n  input?: ZodType;\n  output?: ZodType;\n}) => any;\n\ninterface ProcedureParamDecoratorBase {\n  type: ProcedureParamDecoratorType;\n  index: number;\n}\n\nexport type ProcedureInputParamDecorator = ProcedureParamDecoratorBase & {\n  type: ProcedureParamDecoratorType.Input;\n  key?: string;\n};\n\nexport type ProcedureParamDecorator =\n  | ProcedureParamDecoratorBase\n  | ProcedureInputParamDecorator;\n\nexport interface ProcedureFactoryMetadata {\n  type: ProcedureType;\n  input: ZodType | undefined;\n  output: ZodType | undefined;\n  middlewares: Array<Constructor<TRPCMiddleware> | Class<TRPCMiddleware>>;\n  name: string;\n  implementation: ProcedureImplementation;\n  params: Array<ProcedureParamDecorator> | undefined;\n}\n\nexport interface CustomProcedureFactoryMetadata {\n  name: string;\n  instance: unknown;\n}\n\nexport interface RouterInstance {\n  name: string;\n  path: string;\n  instance: unknown;\n  middlewares: Array<Class<TRPCMiddleware> | Constructor<TRPCMiddleware>>;\n  alias?: string;\n}\n\nexport interface RoutersFactoryMetadata {\n  name: string;\n  path: string;\n  alias?: string;\n  instance: RouterInstance;\n  procedures: Array<ProcedureFactoryMetadata>;\n}\n\nexport type TRPCRouter = <TProcRouterRecord extends TRPCRouterRecord>(\n  procedures: TProcRouterRecord,\n) => AnyRouter;\n\nexport type TRPCPublicProcedure = AnyProcedureBuilder;\n"],"mappings":";AAMA,IAAY,sFAAL;AACL;AACA;AACA;AACA;AACA;AACA;;AACD"}